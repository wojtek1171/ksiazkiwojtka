(function(t){function e(e){for(var r,n,i=e[0],u=e[1],c=e[2],l=0,p=[];l<i.length;l++)n=i[l],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&p.push(o[n][0]),o[n]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);d&&d(e);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,n=1;n<a.length;n++){var i=a[n];0!==o[i]&&(r=!1)}r&&(s.splice(e--,1),t=u(u.s=a[0]))}return t}var r={},n={app:0},o={app:0},s=[];function i(t){return u.p+"js/"+({about:"about"}[t]||t)+"."+{about:"f5a43d04"}[t]+".js"}function u(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.e=function(t){var e=[],a={about:1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var r="css/"+({about:"about"}[t]||t)+"."+{about:"2a543a0e"}[t]+".css",o=u.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===o))return e()}var p=document.getElementsByTagName("style");for(i=0;i<p.length;i++){c=p[i],l=c.getAttribute("data-href");if(l===r||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||o,s=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete n[t],d.parentNode.removeChild(d),a(s)},d.href=o;var b=document.getElementsByTagName("head")[0];b.appendChild(d)})).then((function(){n[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise((function(e,a){r=o[t]=[e,a]}));e.push(r[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(t);var p=new Error;c=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=o[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;p.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",p.name="ChunkLoadError",p.type=r,p.request=n,a[1](p)}o[t]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=r,u.d=function(t,e,a){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)u.d(a,r,function(e){return t[e]}.bind(null,r));return a},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var p=0;p<c.length;p++)e(c[p]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"17f8":function(t,e,a){},"1f32":function(t,e,a){},2100:function(t,e,a){},"25bc":function(t,e,a){"use strict";a("f94c")},2941:function(t,e,a){t.exports=a.p+"img/notpass.17178dd7.jpg"},"2b18":function(t,e,a){},"3e0f":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAACg0lEQVR4nO2cwW6DMBAF97vJx6eXpHIQYIN3PQt+I/nU1mVnINBIqZkYyuu1vHfXsrzp43ssR+KXZf9r9HE/hsMz/xui4XvoOW7N9svOqypdQRxpedlRkGAixCvIBXrEttwvFKSR6KvgKBY9eypOSQ24h9Dzp2HkPUJBKtARFOQDLV9BCkKEOtxTaC8I9FWgIAW0cMX4QMtWkAJatIIU/A/c+Q6sgjhAC1aMAlqwgqwIl+j8PhbtKxT6bFeQAq+zurqXYtSJFKMgJxklRDEaGC1EQQ6ghCjIBqQMxVhBC6F/fypOD7/zuDv8OJ4YwyzP67eCWJ4nHMWwXH8DTB/EOwYVxMsHSkSMHkFTXx2RMUYH8XaDEB3krCjFGLgij2WUszA8BF/9fAZ5BaaEFqgYBbRAxSioDZjlJUhBbrhol92Q8rw/mka77IY+mxWjgBb4mBj08NmWYiRaipFoKQa4yqcxNMQsMVoff+kWZjZHEMW42aI7mJliKEbCRXcwM8VIFcNMQWj/P9Ay6EX7/4GWQS/a/ya0FMWoQItSjAZogQpRoUfKAv1jGNpZOPTZrhgraMmKsYIWrRgF0SJ77zO0n+HQZ75iFNDCFWMFLV0xCmjpCrIBLV5BVtDipwxSG5KWP1WQlkFp+dMEOTMkHeDxQa4MSEdQkIafUxAHeoejYzwqiNdwCuKE53AK0knEYArSQdRgVwROH2TEYGf2V5BBg7XuqyDJhlKQhENNGyTrUAoSNNTVvaaMYRYbpGfP6UJ8iRjQYz/FcBjSW9hUMcz6g0QLmyqGWc7/Ht1yfB6zpyRzjL3j89g3LVlD7B2f594pyRpi6xij9k9F5hBTogjJkPxc/AGanl4au9Qa+wAAAABJRU5ErkJggg=="},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=o(t);return a(e)}function o(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}n.keys=function(){return Object.keys(r)},n.resolve=o,t.exports=n,n.id="4678"},"4dca":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app",{attrs:{id:"inspire"}},[r("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[r("info-banner")],1),r("v-app-bar",{attrs:{app:""}},[r("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),r("v-img",{staticClass:"ml-2",attrs:{src:a("3e0f"),"max-width":"30"}}),r("v-tabs",{staticClass:"ml-n9",attrs:{centered:"",color:"grey darken-1"}},t._l(t.filterLinks(),(function(e){return r("v-tab",{key:e.title,attrs:{to:e.link}},[t._v(" "+t._s(e.title)+" ")])})),1),t.loggedIn?r("v-btn",{on:{click:t.logout}},[t._v("Logout")]):t._e(),t.loggedIn?t._e():r("router-link",{attrs:{to:"/login"}},[r("v-icon",{attrs:{large:""}},[t._v("mdi-cog")])],1)],1),r("v-main",[r("router-view")],1)],1)},o=[],s=a("1da1"),i=(a("96cf"),a("b0c0"),a("4de4"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"mt-4"},[a("h3",[t._v("Kolekcja zawiera")]),a("v-divider"),a("h1",[t._v(t._s(t.booksCount))]),a("h3",[t._v(t._s(t.declineBook(t.booksCount)))]),a("v-divider"),a("h1",[t._v(t._s(t.authorsCount))]),a("h3",[t._v(t._s(t.declineAuthor(t.authorsCount)))]),a("v-divider"),a("h1",[t._v(t._s(t.pagesCount))]),a("h3",[t._v(t._s(t.declinePage(t.pagesCount)))]),a("v-divider"),a("h1",[t._v("12.6")]),a("h3",[t._v("metrów bieżących")]),a("v-divider"),a("h1",[t._v(t._s(t.quotesCount))]),a("h3",[t._v(t._s(t.declineQuote(t.quotesCount)))]),a("v-divider")],1)}),u=[],c=a("3835"),l=a("d4ec"),p=a("bee2"),d=(a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("159b"),a("ac1f"),a("1276"),a("0481"),a("4fad"),a("bc3a")),b=a.n(d),m="/api/book",f="/api/quote",h="/api/user",v=function(){function t(){Object(l["a"])(this,t)}return Object(p["a"])(t,null,[{key:"getAllBooks",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(m);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getBookById",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(m,"/").concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addBook",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.post(m,e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updateBook",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.patch("".concat(m,"/").concat(e),a);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"deleteBook",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("".concat(m,"/").concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getAutocompleteData",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={authors:new Set,publishers:new Set,translators:new Set,tags:new Set},t.next=3,this.getValuesFromFields("authors");case 3:return e.authors=t.sent,t.next=6,this.getValuesFromFields("publishers");case 6:return e.publishers=t.sent,t.next=9,this.getValuesFromFields("translators");case 9:return e.translators=t.sent,t.next=12,this.getValuesFromFields("tags");case 12:return e.tags=t.sent,t.abrupt("return",e);case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getValuesFromFields",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(m,"/param/").concat(e));case 2:a=t.sent,r=[],t.t0=e,t.next="authors"===t.t0?7:"translators"===t.t0?9:"tags"===t.t0?11:"publishers"===t.t0?13:15;break;case 7:return a.data.forEach((function(t){return r.push(t.authors.split(","))})),t.abrupt("break",15);case 9:return a.data.forEach((function(t){return r.push(t.translators.split(","))})),t.abrupt("break",15);case 11:return a.data.forEach((function(t){return r.push(t.tags.split(","))})),t.abrupt("break",15);case 13:return a.data.forEach((function(t){return r.push(t.publisher.split(","))})),t.abrupt("break",15);case 15:return n=r.flat(1),t.abrupt("return",new Set(n));case 17:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getBooksCount",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(m+"/count");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getPagesSum",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(m);case 2:return e=t.sent,a=0,e.data.forEach((function(t){return a+=t.pages})),t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getFieldValuesCountSortedDesc",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(m,"/param/").concat(e));case 2:a=t.sent,r=[],t.t0=e,t.next="authors"===t.t0?7:"translators"===t.t0?9:"tags"===t.t0?11:"publishers"===t.t0?13:15;break;case 7:return a.data.forEach((function(t){return r.push(t.authors.split(","))})),t.abrupt("break",15);case 9:return a.data.forEach((function(t){return r.push(t.translators.split(","))})),t.abrupt("break",15);case 11:return a.data.forEach((function(t){return r.push(t.tags.split(","))})),t.abrupt("break",15);case 13:return a.data.forEach((function(t){return r.push(t.publisher.split(","))})),t.abrupt("break",15);case 15:return n=r.flat(1),o={},n.forEach((function(t){o[t]=o[t]?o[t]+=1:1})),s=Object.entries(o).sort((function(t,e){var a=Object(c["a"])(t,2),r=(a[0],a[1]),n=Object(c["a"])(e,2),o=(n[0],n[1]);return o-r})),t.abrupt("return",s);case 20:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getBooksByYear",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(m);case 2:return a=t.sent,t.abrupt("return",a.data.filter((function(t){return new Date(t.purchaseDate).getFullYear()==e})));case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"sumExpensesForYear",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getBooksByYear(e);case 2:return a=t.sent,r=0,a.forEach((function(t){return r+=t.purchasePrice})),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getCountedBooksByReadStatus",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(m);case 2:return a=t.sent,t.abrupt("return",a.data.filter((function(t){return t.read===e})).length);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getNewestBooks",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(m+"/crDate");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getAllQuotes",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(f);case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getQuoteById",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get("".concat(f,"/").concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getQuotesByBookId",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.get(f);case 2:return a=t.sent,t.abrupt("return",a.data.filter((function(t){return t.bookId===e})));case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"addQuote",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.post(f,e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"updateQuote",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e,a){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.patch("".concat(f,"/").concat(e),a);case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}}),t)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"deleteQuote",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.delete("".concat(f,"/").concat(e));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"getAutocompleteQuoteData",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e={authors:new Set,tags:new Set},t.next=3,b.a.get(f);case 3:return a=t.sent,r=a.data,r.forEach((function(t){var a,r,n=null===(a=t.authors)||void 0===a?void 0:a.split(","),o=null===(r=t.tags)||void 0===r?void 0:r.split(",");n.forEach((function(t){return e.authors.add(t)})),o.forEach((function(t){return e.tags.add(t)}))})),t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"login",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b.a.post("".concat(h,"/login/"),e);case 2:if(a=t.sent,200!==a.status){t.next=6;break}return localStorage.setItem("token",a.data.token),t.abrupt("return",a.data);case 6:return t.abrupt("return",null);case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}();function g(t){return 1===t?"książka":t%10===2||t%10===3||t%10===4?"książki":"książek"}function k(t){return 1===t?"cytat":t%10===2||t%10===3||t%10===4?"cytaty":"cytatów"}function x(t){return 1===t?"stronę":t%10===2||t%10===3||t%10===4?"strony":"stron"}function w(t){return 1===t?"autora":"autorów"}function j(t,e){return t!==e.length-1?"".concat(e[t],","):e[t]}function y(t,e){if(t!==e.length-1)return", "}var C={data:function(){return{quotesTagSearch:[],booksCount:0,quotesCount:0,authorsCount:0,pagesCount:452}},methods:{declineBook:function(t){return g(t)},declineQuote:function(t){return k(t)},declineAuthor:function(t){return w(t)},declinePage:function(t){return x(t)}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.getBooksCount();case 2:return a=e.sent,t.booksCount=a,e.next=6,v.getAllQuotes();case 6:return r=e.sent,t.quotesCount=r.length,e.next=10,v.getValuesFromFields("authors");case 10:return n=e.sent,t.authorsCount=n.size,e.next=14,v.getPagesSum();case 14:o=e.sent,t.pagesCount=o;case 16:case"end":return e.stop()}}),e)})))()}},_=C,V=(a("8c6a"),a("2877")),D=a("6544"),S=a.n(D),T=a("a523"),R=a("ce7e"),B=Object(V["a"])(_,i,u,!1,null,"18f2f1fc",null),$=B.exports;S()(B,{VContainer:T["a"],VDivider:R["a"]});var q={components:{InfoBanner:$},data:function(){return{links:[{title:"Home",link:"/",hidden:!1},{title:"Księgozbiór",link:"/books",hidden:!1},{title:"Cytaty",link:"/quotes",hidden:!1},{title:"Dodaj książkę",link:"/add-book",hidden:!0},{title:"Dodaj cytat",link:"/add-quote",hidden:!0},{title:"Statystyki",link:"/statistics",hidden:!1},{title:"Info",link:"/about",hidden:!1}],loggedIn:!1,drawer:null}},watch:{$route:function(){"not-pass"===this.$route.name&&this.reload()}},methods:{logout:function(){localStorage.clear(),this.loggedIn=!1,this.reload(),this.$router.push("/")},reload:function(){null!==localStorage.getItem("token")?(this.loggedIn=!0,this.links[3].hidden=!1,this.links[4].hidden=!1):(this.links[3].hidden=!0,this.links[4].hidden=!0),this.$forceUpdate()},filterLinks:function(){return this.links.filter((function(t){return!1===t.hidden}))}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!==localStorage.getItem("token")&&(t.links[3].hidden=!1,t.links[4].hidden=!1,t.loggedIn=!0);case 1:case"end":return e.stop()}}),e)})))()}},A=q,O=a("7496"),z=a("40dc"),F=a("5bc1"),P=a("8336"),E=a("132d"),I=a("adda"),Q=a("f6c4"),L=a("f774"),M=a("71a3"),Y=a("fe57"),W=Object(V["a"])(A,n,o,!1,null,null,null),N=W.exports;S()(W,{VApp:O["a"],VAppBar:z["a"],VAppBarNavIcon:F["a"],VBtn:P["a"],VIcon:E["a"],VImg:I["a"],VMain:Q["a"],VNavigationDrawer:L["a"],VTab:M["a"],VTabs:Y["a"]});var U=a("8c4f"),K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h1",[t._v("Ostatnio dodane:")]),a("v-slide-group",{staticClass:"pa-0",attrs:{"show-arrows":""},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.books,(function(t){return a("v-slide-item",{key:t._id},[a("v-card",{staticClass:"ma-4",attrs:{height:"200",width:"150",elevation:"10",to:{name:"book",params:{id:t._id}}}},[a("v-img",{attrs:{"max-height":"250","max-width":"150",src:t.image}})],1)],1)})),1)],1)},H=[],J={name:"Home",data:function(){return{model:null,books:[]}},methods:{},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.getNewestBooks();case 2:t.books=e.sent;case 3:case"end":return e.stop()}}),e)})))()}},G=J,X=a("b0af"),Z=a("7efd"),tt=a("9dbe"),et=Object(V["a"])(G,K,H,!1,null,null,null),at=et.exports;S()(et,{VCard:X["a"],VContainer:T["a"],VImg:I["a"],VSlideGroup:Z["b"],VSlideItem:tt["a"]});var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700"}},[a("v-card-title",[t._v("Dodaj książę")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:t.rules},model:{value:t.book.title,callback:function(e){t.$set(t.book,"title",e)},expression:"book.title"}}),a("v-combobox",{attrs:{items:t.authorSearch,label:"Autor",multiple:"",chips:"",rules:t.rules},model:{value:t.book.authors,callback:function(e){t.$set(t.book,"authors",e)},expression:"book.authors"}}),a("v-combobox",{attrs:{items:t.publisherSearch,label:"Wydawnictwo",chips:""},model:{value:t.book.publisher,callback:function(e){t.$set(t.book,"publisher",e)},expression:"book.publisher"}}),a("v-text-field",{attrs:{label:"Rok wydania"},model:{value:t.book.publicationDate,callback:function(e){t.$set(t.book,"publicationDate",e)},expression:"book.publicationDate"}}),a("v-text-field",{attrs:{label:"Liczba stron"},model:{value:t.book.pages,callback:function(e){t.$set(t.book,"pages",e)},expression:"book.pages"}}),a("v-text-field",{attrs:{label:"Okładka"},model:{value:t.book.cover,callback:function(e){t.$set(t.book,"cover",e)},expression:"book.cover"}}),a("v-text-field",{attrs:{label:"Cena zakupu"},model:{value:t.book.purchasePrice,callback:function(e){t.$set(t.book,"purchasePrice",e)},expression:"book.purchasePrice"}}),a("v-text-field",{attrs:{label:"Cena detaliczna"},model:{value:t.book.retailPrice,callback:function(e){t.$set(t.book,"retailPrice",e)},expression:"book.retailPrice"}}),a("v-combobox",{attrs:{items:t.translatorSearch,label:"Tłumacz",multiple:"",chips:""},model:{value:t.book.translators,callback:function(e){t.$set(t.book,"translators",e)},expression:"book.translators"}}),a("v-text-field",{attrs:{label:"Tytuł oryginalny"},model:{value:t.book.originalTitle,callback:function(e){t.$set(t.book,"originalTitle",e)},expression:"book.originalTitle"}}),a("v-combobox",{attrs:{items:t.tagsSearch,label:"Tagi",multiple:"",chips:""},model:{value:t.book.tags,callback:function(e){t.$set(t.book,"tags",e)},expression:"book.tags"}}),a("v-checkbox",{attrs:{label:"Przeczytana"},model:{value:t.book.read,callback:function(e){t.$set(t.book,"read",e)},expression:"book.read"}}),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{"prepend-icon":"mdi-calendar",label:"Data zakupu",readonly:""},model:{value:t.book.purchaseDate,callback:function(e){t.$set(t.book,"purchaseDate",e)},expression:"book.purchaseDate"}},"v-text-field",n,!1),r))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.book.purchaseDate,callback:function(e){t.$set(t.book,"purchaseDate",e)},expression:"book.purchaseDate"}})],1)],1),a("v-spacer")],1),a("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",label:"Dodaj okładkę"},on:{change:t.selectFile}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[t._v("Dodaj książkę")])],1)],1)],1)},nt=[],ot=(a("a630"),{data:function(){return{rules:[function(t){return!!t||"To pole jest wymagane."}],book:{title:"",authors:"",publisher:"",publicationDate:"",pages:"",cover:"",purchasePrice:"",retailPrice:"",read:!1,purchaseDate:(new Date).toISOString().substr(0,10),translators:"",originalTitle:"",tags:"",image:"https://i.imgur.com/rpVYMUX.jpeg"},image:"https://i.imgur.com/rpVYMUX.jpeg",menu:!1,modal:!1,menu2:!1,authorSearch:[],publisherSearch:[],translatorSearch:[],tagsSearch:[]}},methods:{selectFile:function(t){this.image=t[0]},submitForm:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new FormData,a.append("image",t.image),a.append("title",t.book.title),a.append("authors",t.book.authors),a.append("publisher",t.book.publisher),a.append("publicationDate",t.book.publicationDate),a.append("pages",t.book.pages),a.append("cover",t.book.cover),a.append("purchasePrice",t.book.purchasePrice),a.append("retailPrice",t.book.retailPrice),a.append("read",t.book.read),a.append("purchaseDate",t.book.purchaseDate),a.append("translators",t.book.translators),a.append("originalTitle",t.book.originalTitle),a.append("tags",t.book.tags),!t.$refs.form.validate()){e.next=20;break}return e.next=18,v.addBook(a);case 18:r=e.sent,t.$router.push({name:"books",params:{message:r.message}});case 20:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===localStorage.getItem("token")&&t.$router.push("/login"),e.next=3,v.getAutocompleteData();case 3:a=e.sent,t.authorSearch=Array.from(a.authors),t.publisherSearch=Array.from(a.publishers),t.translatorSearch=Array.from(a.translators),t.tagsSearch=Array.from(a.tags);case 8:case"end":return e.stop()}}),e)})))()}}),st=ot,it=a("99d9"),ut=a("ac7c"),ct=a("62ad"),lt=a("2b5d"),pt=a("2e4b"),dt=a("23a7"),bt=a("4bd4"),mt=a("e449"),ft=a("0fd9"),ht=a("2fa4"),vt=a("8654"),gt=Object(V["a"])(st,rt,nt,!1,null,null,null),kt=gt.exports;S()(gt,{VBtn:P["a"],VCard:X["a"],VCardTitle:it["c"],VCheckbox:ut["a"],VCol:ct["a"],VCombobox:lt["a"],VContainer:T["a"],VDatePicker:pt["a"],VDivider:R["a"],VFileInput:dt["a"],VForm:bt["a"],VMenu:mt["a"],VRow:ft["a"],VSpacer:ht["a"],VTextField:vt["a"]});var xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h1",[t._v("Księgozbiór")]),a("v-divider"),a("v-sheet",{staticClass:"mx-auto",attrs:{color:"white","max-width":"1000"}},[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{label:"Autor"},model:{value:t.filter.author,callback:function(e){t.$set(t.filter,"author",e)},expression:"filter.author"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tytuł"},model:{value:t.filter.title,callback:function(e){t.$set(t.filter,"title",e)},expression:"filter.title"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Wydawnictwo"},model:{value:t.filter.publisher,callback:function(e){t.$set(t.filter,"publisher",e)},expression:"filter.publisher"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tłumacz"},model:{value:t.filter.translator,callback:function(e){t.$set(t.filter,"translator",e)},expression:"filter.translator"}})],1)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{staticClass:"mt-n4",attrs:{sm:"4"}},[a("v-checkbox",{attrs:{label:"Filtruj po dacie zakupu"},model:{value:t.filter.isDateFilterEneabled,callback:function(e){t.$set(t.filter,"isDateFilterEneabled",e)},expression:"filter.isDateFilterEneabled"}})],1),a("v-col",{attrs:{col:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Data zakupu od","prepend-icon":"mdi-calendar",disabled:!t.filter.isDateFilterEneabled,readonly:""},model:{value:t.filter.purchaseDateFrom,callback:function(e){t.$set(t.filter,"purchaseDateFrom",e)},expression:"filter.purchaseDateFrom"}},"v-text-field",n,!1),r))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[a("v-date-picker",{on:{input:function(e){t.menu1=!1}},model:{value:t.filter.purchaseDateFrom,callback:function(e){t.$set(t.filter,"purchaseDateFrom",e)},expression:"filter.purchaseDateFrom"}})],1)],1),a("v-col",{attrs:{col:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Data zakupu do","prepend-icon":"mdi-calendar",disabled:!t.filter.isDateFilterEneabled,readonly:""},model:{value:t.filter.purchaseDateTo,callback:function(e){t.$set(t.filter,"purchaseDateTo",e)},expression:"filter.purchaseDateTo"}},"v-text-field",n,!1),r))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.filter.purchaseDateTo,callback:function(e){t.$set(t.filter,"purchaseDateTo",e)},expression:"filter.purchaseDateTo"}})],1)],1)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{staticClass:"mt-n2",attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{dense:"",multiple:"",chips:"",items:t.tagsSearch,label:"Tagi"},model:{value:t.filter.tags,callback:function(e){t.$set(t.filter,"tags",e)},expression:"filter.tags"}})],1),a("v-col",{attrs:{sm:"2"}}),a("v-col",{staticClass:"mt-n4",attrs:{sm:"2"}},[a("v-checkbox",{attrs:{label:"Przeczytane"},model:{value:t.filter.read,callback:function(e){t.$set(t.filter,"read",e)},expression:"filter.read"}})],1),a("v-col",{staticClass:"mt-n4",attrs:{sm:"2"}},[a("v-checkbox",{attrs:{label:"Nieprzeczytane"},model:{value:t.filter.notRead,callback:function(e){t.$set(t.filter,"notRead",e)},expression:"filter.notRead"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"9"}}),a("v-col",{staticClass:"mt-n2",attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.items,label:"Sortuj wg"},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1)],1)],1)],1),a("v-divider"),this.$route.params.message?a("v-alert",{attrs:{border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""}},[t._v(" "+t._s(this.$route.params.message)+" ")]):t._e(),a("div",{staticClass:"niema"},[t._v("Wynik wyszukiwania: "+t._s(t.filterAndSortBooks.length)+" "+t._s(t.declineBook(t.filterAndSortBooks.length)))]),a("v-divider"),a("v-pagination",{attrs:{length:Math.ceil(t.filterAndSortBooks.length/t.pagination.perPage),circle:t.pagination.circle,"total-visible":t.pagination.totalVisible},on:{input:function(e){return t.updatePage(t.pagination.page)}},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}}),t._l(t.visibleBooks,(function(t){return a("book-tile",{key:t._id,attrs:{book:t}})})),0==t.filterAndSortBooks.length?a("div",{staticClass:"niema"},[t._v("Nie znaleziono książek o podaych kryteriach.")]):t._e(),a("v-pagination",{staticClass:"mt-5",attrs:{length:Math.ceil(t.filterAndSortBooks.length/t.pagination.perPage),circle:t.pagination.circle,"total-visible":t.pagination.totalVisible},on:{input:function(e){t.updatePage(t.pagination.page),t.scrollToTop()}},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],2)},wt=[],jt=(a("caad"),a("2532"),a("fb6a"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto mt-6",attrs:{"max-width":"900","min-height":"200",rounded:"lg",elevation:t.hover?24:6}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-container",[a("router-link",{staticClass:"title2",attrs:{to:t.bookUrl}},[t._v(" "+t._s(t.book.title)+" ")]),a("div",t._l(t.authors,(function(e,r){return a("router-link",{key:r,staticClass:"author2",attrs:{to:{name:"books-author",params:{author:e}}}},[t._v(" "+t._s(e)+t._s(t.commaInbetween(r,t.authors))+" ")])})),1)],1),a("v-card-text",{class:t.marginCover[1]},[a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"12",md:"10",sm:"10",xs:"5",order:"2","order-sm":"1"}},[a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[t._v("Rok wydania:")]),a("v-col",{staticClass:"attribute"},[t._v(t._s(t.book.publicationDate))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[t._v("Liczba stron:")]),a("v-col",{staticClass:"attribute"},[t._v(t._s(t.book.pages))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[t._v("Oprawa:")]),a("v-col",{staticClass:"attribute"},[t._v(t._s(t.book.cover))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[t._v("Wydawnictwo:")]),a("v-col",{staticClass:"attribute"},[t._v(t._s(t.book.publisher))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[t._v("Tłumacz:")]),a("v-col",{staticClass:"attribute"},t._l(t.translators,(function(e,r){return a("span",{key:r},[t._v(t._s(t.attributesWithComma(r,t.translators))+" ")])})),0)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"4"}},[t._v("Tytuł oryginalny:")]),a("v-col",{staticClass:"attribute",attrs:{"align-self":"center"}},[t._v(t._s(t.book.originalTitle))])],1)],1),a("v-col",{attrs:{cols:"12",md:"2",sm:"2",xs:"2",order:"1","order-sm":"2",align:"center"}},[a("v-card",{class:t.marginCover[0],attrs:{elevation:"10","max-height":"210","max-width":"150",to:{name:"book",params:{id:t.book._id}}}},[a("v-img",{attrs:{"max-height":"210","max-width":"150",src:t.book.image}})],1)],1)],1)],1)],1)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",[a("v-chip-group",{staticClass:"ml-3"},[a("v-icon",[t._v("mdi-tag")]),t._l(t.tags,(function(e,r){return a("v-chip",{key:r,staticClass:"mb-1",attrs:{to:{name:"books-tag",params:{tag:e}}}},[t._v(" "+t._s(e)+" ")])}))],2)],1)],1)],1)}),yt=[],Ct={name:"BookTile",props:["book"],data:function(){return{hover:"",bookUrl:"/book/".concat(this.book._id),authors:[],translators:[],tags:[]}},computed:{marginCover:function(){switch(this.$vuetify.breakpoint.name){case"xs":return["mt-n6 mb-2"];case"sm":return["mt-n8","mt-n5"];case"md":return["mt-n8 mr-4","mt-n5"];case"lg":return["mt-n8 mr-4","mt-n5"];case"xl":return["mt-n8 mr-4","mt-n5"]}}},methods:{attributesWithComma:function(t,e){return j(t,e)},commaInbetween:function(t,e){return y(t,e)}},created:function(){this.authors=this.book.authors.split(","),this.translators=this.book.translators.split(","),this.tags=this.book.tags.split(",")}},_t=Ct,Vt=(a("25bc"),a("cc20")),Dt=a("ef9a"),St=Object(V["a"])(_t,jt,yt,!1,null,"2daa1117",null),Tt=St.exports;S()(St,{VCard:X["a"],VCardText:it["b"],VChip:Vt["a"],VChipGroup:Dt["a"],VCol:ct["a"],VContainer:T["a"],VIcon:E["a"],VImg:I["a"],VRow:ft["a"]});var Rt={components:{BookTile:Tt},name:"Books",data:function(){return{books:[],visibleBooks:[],items:["Sortuj wg","Data zakupu - od najnowszej","Data zakupu - od najstarszej","Liczba stron - od najmniejszej","Liczba stron - od największej"],sort:"Data zakupu - od najnowszej",filter:{purchaseDateFrom:new Date("2000-01-01").toISOString().substr(0,10),purchaseDateTo:(new Date).toISOString().substr(0,10),title:"",author:"",publisher:"",translator:"",read:!0,notRead:!0,tags:[],isDateFilterEneabled:!1},pagination:{page:1,perPage:10,circle:!0,totalVisible:9},tagsSearch:[],date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu1:!1,menu2:!1}},computed:{filterAndSortBooks:function(){var t=this,e=[];switch(e=this.books.filter((function(e){return e.authors.toLowerCase().includes(t.filter.author.toLowerCase())})).filter((function(e){return e.title.toLowerCase().includes(t.filter.title.toLowerCase())})).filter((function(e){return e.publisher.toLowerCase().includes(t.filter.publisher.toLowerCase())})).filter((function(e){return e.translators.toLowerCase().includes(t.filter.translator.toLowerCase())})).filter((function(e){return e.read===t.filter.read||e.read!=t.filter.notRead})).filter((function(e){return t.searchTags(e,t.filter.tags)})),this.filter.isDateFilterEneabled&&(e=e.filter((function(e){return e.purchaseDate>t.filter.purchaseDateFrom&&e.purchaseDate<t.filter.purchaseDateTo}))),this.sort){case this.items[1]:e.sort((function(t,e){return t.purchaseDate<e.purchaseDate?1:-1}));break;case this.items[2]:e.sort((function(t,e){return t.purchaseDate>e.purchaseDate?1:-1}));break;case this.items[3]:e.sort((function(t,e){return t.pages>e.pages?1:-1}));break;case this.items[4]:e.sort((function(t,e){return t.pages<e.pages?1:-1}));break;default:return e}return e}},watch:{filterAndSortBooks:function(){this.updatePage(1)},$route:function(){this.$route.params.tag&&(this.filter.tags=[],this.filter.author="",this.filter.tags.push(this.$route.params.tag)),this.$route.params.author&&(this.filter.tags=[],this.filter.author="",this.filter.author=this.$route.params.author)}},methods:{declineBook:function(t){return g(t)},searchTags:function(t,e){var a=!0;return e.forEach((function(e){t.tags.toLowerCase().includes(e.toLowerCase())||(a=!1)})),a},updatePage:function(t){this.pagination.page=t,this.updateVisibleBooks()},updateVisibleBooks:function(){this.visibleBooks=this.filterAndSortBooks.slice((this.pagination.page-1)*this.pagination.perPage,(this.pagination.page-1)*this.pagination.perPage+this.pagination.perPage),0==this.visibleBooks.length&&this.pagination.page>0&&this.updatePage(this.pagination.page-1)},scrollToTop:function(){window.scrollTo(0,0)}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.getAllBooks();case 2:return t.books=e.sent,e.next=5,v.getAutocompleteData();case 5:a=e.sent,t.tagsSearch=Array.from(a.tags),t.$route.params.tag&&t.filter.tags.push(t.$route.params.tag),t.$route.params.author&&(t.filter.author=t.$route.params.author),t.updatePage(1);case 10:case"end":return e.stop()}}),e)})))()}},Bt=Rt,$t=(a("da13"),a("0798")),qt=a("c6a6"),At=a("891e"),Ot=a("b974"),zt=a("8dd9"),Ft=Object(V["a"])(Bt,xt,wt,!1,null,null,null),Pt=Ft.exports;S()(Ft,{VAlert:$t["a"],VAutocomplete:qt["a"],VCheckbox:ut["a"],VCol:ct["a"],VContainer:T["a"],VDatePicker:pt["a"],VDivider:R["a"],VMenu:mt["a"],VPagination:At["a"],VRow:ft["a"],VSelect:Ot["a"],VSheet:zt["a"],VTextField:vt["a"]});var Et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"mx-auto mt-3",attrs:{width:"800",elevation:t.hover?24:6}},[a("v-container",[a("div",{staticClass:"title"},[t._v(" "+t._s(t.book.title)+" ")]),a("div",t._l(t.authors,(function(e,r){return a("router-link",{key:r,staticClass:"author",attrs:{to:{name:"books-author",params:{author:e}}}},[t._v(" "+t._s(e)+t._s(t.commaInbetween(r,t.authors))+" ")])})),1)]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",order:"2","order-sm":"1"}},[a("v-card-text",[a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12",xs:"5",order:"2","order-sm":"1"}},[a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[t._v("Rok wydania:")]),a("v-col",{staticClass:"attribute"},[t._v(t._s(t.book.publicationDate))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[t._v("Liczba stron:")]),a("v-col",{staticClass:"attribute"},[t._v(t._s(t.book.pages))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[t._v("Oprawa:")]),a("v-col",{staticClass:"attribute"},[t._v(t._s(t.book.cover))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[t._v("Wydawnictwo:")]),a("v-col",{staticClass:"attribute"},[t._v(t._s(t.book.publisher))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[t._v("Tłumacz:")]),a("v-col",{staticClass:"attribute"},t._l(t.translators,(function(e,r){return a("span",{key:r},[t._v(t._s(t.attributesWithComma(r,t.translators))+" ")])})),0)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"4"}},[t._v("Tytuł oryginalny:")]),a("v-col",{staticClass:"attribute",attrs:{"align-self":"center"}},[t._v(t._s(t.book.originalTitle))])],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4",order:"1","order-sm":"2",align:"center"}},[a("v-card",{staticClass:"mt-n1",attrs:{"max-width":"150",elevation:"10"}},[a("v-img",{attrs:{"max-height":"210","max-width":"150",src:t.book.image}})],1)],1)],1),a("v-card-subtitle",{staticClass:"mt-n2"},[a("v-icon",[t._v("mdi-tag")]),t._l(t.tags,(function(e,r){return a("v-chip",{key:r,staticClass:"ml-1 mb-1",attrs:{to:{name:"books-tag",params:{tag:e}}}},[t._v(" "+t._s(e)+" ")])}))],2),t.logged?a("v-row",[a("v-col",{staticClass:"d-flex justify-end mx-n3"},[a("v-btn",{attrs:{color:"blue",text:"",to:{name:"add-quote",params:{id:t.book._id}}}},[t._v("Dodaj cytat")]),a("v-btn",{attrs:{color:"success",text:"",to:{name:"edit-book",params:{id:t.book._id}}}},[t._v("Edytuj")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){return t.removeBook(t.book._id)}}},[t._v("Usuń")])],1)],1):t._e()],1),a("v-divider",{staticClass:"ml-5 mt-5"}),0!=t.quotes.length?a("h2",[t._v("Cytaty")]):t._e(),t._l(t.quotes,(function(t){return a("quote-tile",{key:t.id,attrs:{quote:t}})}))],2)},It=[],Qt={data:function(){return{book:{purchasePrice:0,retailPrice:0},quotes:[],authors:[],translators:[],tags:[],hover:"",logged:!1}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null!==localStorage.getItem("token")&&(t.logged=!0),e.next=3,v.getBookById(t.$route.params.id);case 3:return a=e.sent,t.book=a,t.book.purchaseDate=a.purchaseDate.substr(0,10),e.next=8,v.getQuotesByBookId(t.book._id);case 8:r=e.sent,t.quotes=r,t.authors=t.book.authors.split(","),t.translators=t.book.translators.split(","),t.tags=t.book.tags.split(",");case 13:case"end":return e.stop()}}),e)})))()},methods:{removeBook:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v.deleteBook(t);case 2:r=a.sent,e.$router.push({name:"books",params:{message:r.message}});case 4:case"end":return a.stop()}}),a)})))()},attributesWithComma:function(t,e){return j(t,e)},commaInbetween:function(t,e){return y(t,e)}}},Lt=Qt,Mt=(a("654c"),Object(V["a"])(Lt,Et,It,!1,null,"1fb046ec",null)),Yt=Mt.exports;S()(Mt,{VBtn:P["a"],VCard:X["a"],VCardSubtitle:it["a"],VCardText:it["b"],VChip:Vt["a"],VCol:ct["a"],VContainer:T["a"],VDivider:R["a"],VIcon:E["a"],VImg:I["a"],VRow:ft["a"]});var Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700"}},[a("v-card-title",[t._v("Edytuj książkę")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.updateForm(e)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:t.rules},model:{value:t.book.title,callback:function(e){t.$set(t.book,"title",e)},expression:"book.title"}}),a("v-combobox",{attrs:{items:t.authorSearch,label:"Autor",multiple:"",chips:"",rules:t.rules},model:{value:t.book.authors,callback:function(e){t.$set(t.book,"authors",e)},expression:"book.authors"}}),a("v-combobox",{attrs:{items:t.publisherSearch,label:"Wydawnictwo",chips:""},model:{value:t.book.publisher,callback:function(e){t.$set(t.book,"publisher",e)},expression:"book.publisher"}}),a("v-text-field",{attrs:{label:"Rok wydania"},model:{value:t.book.publicationDate,callback:function(e){t.$set(t.book,"publicationDate",e)},expression:"book.publicationDate"}}),a("v-text-field",{attrs:{label:"Liczba stron"},model:{value:t.book.pages,callback:function(e){t.$set(t.book,"pages",e)},expression:"book.pages"}}),a("v-text-field",{attrs:{label:"Okładka"},model:{value:t.book.cover,callback:function(e){t.$set(t.book,"cover",e)},expression:"book.cover"}}),a("v-text-field",{attrs:{label:"Cena zakupu"},model:{value:t.book.purchasePrice,callback:function(e){t.$set(t.book,"purchasePrice",e)},expression:"book.purchasePrice"}}),a("v-text-field",{attrs:{label:"Cena detaliczna"},model:{value:t.book.retailPrice,callback:function(e){t.$set(t.book,"retailPrice",e)},expression:"book.retailPrice"}}),a("v-combobox",{attrs:{items:t.translatorSearch,label:"Tłumacz",multiple:"",chips:""},model:{value:t.book.translators,callback:function(e){t.$set(t.book,"translators",e)},expression:"book.translators"}}),a("v-text-field",{attrs:{label:"Tytuł oryginalny"},model:{value:t.book.originalTitle,callback:function(e){t.$set(t.book,"originalTitle",e)},expression:"book.originalTitle"}}),a("v-combobox",{attrs:{items:t.tagsSearch,label:"Tagi",multiple:"",chips:""},model:{value:t.book.tags,callback:function(e){t.$set(t.book,"tags",e)},expression:"book.tags"}}),a("v-checkbox",{attrs:{label:"Przeczytana"},model:{value:t.book.read,callback:function(e){t.$set(t.book,"read",e)},expression:"book.read"}}),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,n=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Data zakupu",readonly:""},model:{value:t.book.purchaseDate,callback:function(e){t.$set(t.book,"purchaseDate",e)},expression:"book.purchaseDate"}},"v-text-field",n,!1),r))]}}]),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[a("v-date-picker",{on:{input:function(e){t.menu2=!1}},model:{value:t.book.purchaseDate,callback:function(e){t.$set(t.book,"purchaseDate",e)},expression:"book.purchaseDate"}})],1)],1),a("v-spacer")],1),a("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",label:"Dodaj okładkę"},on:{change:t.selectFile}}),a("v-img",{attrs:{src:t.book.image,width:"120"}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[t._v("Zatwierdź zmiany")])],1)],1)],1)},Nt=[],Ut={data:function(){return{rules:[function(t){return!!t||"To pole jest wymagane."}],book:{title:"",authors:"",publisher:"",publicationDate:"",pages:"",cover:"",purchasePrice:"",retailPrice:"",read:!1,purchaseDate:"",translators:"",originalTitle:"",tags:"",image:""},image:"",menu:!1,modal:!1,menu2:!1,authorSearch:[],publisherSearch:[],translatorSearch:[],tagsSearch:[]}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return null===localStorage.getItem("token")&&t.$router.push("/login"),e.next=3,v.getBookById(t.$route.params.id);case 3:return a=e.sent,t.book=a,t.image=t.book.image,t.book.purchaseDate=new Date(t.book.purchaseDate).toISOString().substr(0,10),t.book.authors=a.authors.split(","),t.book.translators=a.translators.split(","),t.book.tags=a.tags.split(","),e.next=12,v.getAutocompleteData();case 12:r=e.sent,t.authorSearch=Array.from(r.authors),t.publisherSearch=Array.from(r.publishers),t.translatorSearch=Array.from(r.translators),t.tagsSearch=Array.from(r.tags);case 17:case"end":return e.stop()}}),e)})))()},methods:{selectFile:function(t){t&&(this.image=t[0])},updateForm:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new FormData,a.append("image",t.image),a.append("title",t.book.title),a.append("authors",t.book.authors),a.append("publisher",t.book.publisher),a.append("publicationDate",t.book.publicationDate),a.append("pages",t.book.pages),a.append("cover",t.book.cover),a.append("purchasePrice",t.book.purchasePrice),a.append("retailPrice",t.book.retailPrice),a.append("read",t.book.read),a.append("purchaseDate",t.book.purchaseDate),a.append("translators",t.book.translators),a.append("originalTitle",t.book.originalTitle),a.append("tags",t.book.tags),a.append("oldImage",t.book.image),!t.$refs.form.validate()){e.next=21;break}return e.next=19,v.updateBook(t.$route.params.id,a);case 19:r=e.sent,t.$router.push({name:"books",params:{message:r.message}});case 21:case"end":return e.stop()}}),e)})))()}}},Kt=Ut,Ht=Object(V["a"])(Kt,Wt,Nt,!1,null,null,null),Jt=Ht.exports;S()(Ht,{VBtn:P["a"],VCard:X["a"],VCardTitle:it["c"],VCheckbox:ut["a"],VCol:ct["a"],VCombobox:lt["a"],VContainer:T["a"],VDatePicker:pt["a"],VDivider:R["a"],VFileInput:dt["a"],VForm:bt["a"],VImg:I["a"],VMenu:mt["a"],VRow:ft["a"],VSpacer:ht["a"],VTextField:vt["a"]});var Gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mx-auto",attrs:{sm:"10"}},[a("v-card",{staticClass:"pa-5"},[a("v-card-title",[t._v("Edytuj cytat")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.updateForm(e)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:t.rules},model:{value:t.quote.bookTitle,callback:function(e){t.$set(t.quote,"bookTitle",e)},expression:"quote.bookTitle"}}),a("v-combobox",{attrs:{label:"Autor",multiple:"",chips:"",items:t.authorSearch,rules:t.rules},model:{value:t.quote.authors,callback:function(e){t.$set(t.quote,"authors",e)},expression:"quote.authors"}}),a("v-combobox",{attrs:{label:"Tagi",multiple:"",chips:"",items:t.quotesTagSearch},model:{value:t.quote.tags,callback:function(e){t.$set(t.quote,"tags",e)},expression:"quote.tags"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",label:"Tekst",value:""},model:{value:t.quote.text,callback:function(e){t.$set(t.quote,"text",e)},expression:"quote.text"}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[t._v("Zatwierdź zmiany")])],1)],1)],1)],1)],1)},Xt=[],Zt={data:function(){return{rules:[function(t){return!!t||"To pole jest wymagane."}],book:"",quote:{bookTitle:"",authors:[],bookId:"",text:"",tags:""},authorSearch:[],quotesTagSearch:[]}},methods:{updateForm:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new FormData,a.append("bookTitle",t.quote.bookTitle),a.append("authors",t.quote.authors),a.append("bookId",t.quote.bookId),a.append("text",t.quote.text),a.append("tags",t.quote.tags),!t.$refs.form.validate()){e.next=11;break}return e.next=9,v.updateQuote(t.$route.params.id,a);case 9:r=e.sent,t.$router.push({name:"books",params:{message:r.message}});case 11:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.getQuoteById(t.$route.params.id);case 2:return a=e.sent,t.quote=a,t.quote.authors=a.authors.split(","),t.quote.tags=a.tags.split(","),e.next=8,v.getAutocompleteQuoteData();case 8:r=e.sent,t.authorSearch=Array.from(r.authors),t.quotesTagSearch=Array.from(r.tags);case 11:case"end":return e.stop()}}),e)})))()}},te=Zt,ee=a("a844"),ae=Object(V["a"])(te,Gt,Xt,!1,null,null,null),re=ae.exports;S()(ae,{VBtn:P["a"],VCard:X["a"],VCardTitle:it["c"],VCol:ct["a"],VCombobox:lt["a"],VContainer:T["a"],VDivider:R["a"],VForm:bt["a"],VRow:ft["a"],VTextField:vt["a"],VTextarea:ee["a"]});var ne=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700"}},[a("v-card-title",[t._v("Dodaj cytat")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:t.rules},model:{value:t.quote.bookTitle,callback:function(e){t.$set(t.quote,"bookTitle",e)},expression:"quote.bookTitle"}}),a("v-combobox",{attrs:{label:"Autor",multiple:"",chips:"",items:t.authorSearch,rules:t.rules},model:{value:t.quote.authors,callback:function(e){t.$set(t.quote,"authors",e)},expression:"quote.authors"}}),a("v-combobox",{attrs:{label:"Tagi",multiple:"",chips:"",items:t.quotesTagSearch},model:{value:t.quote.tags,callback:function(e){t.$set(t.quote,"tags",e)},expression:"quote.tags"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",label:"Tekst",value:""},model:{value:t.quote.text,callback:function(e){t.$set(t.quote,"text",e)},expression:"quote.text"}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[t._v("Dodaj cytat")])],1)],1)],1)},oe=[],se={data:function(){return{rules:[function(t){return!!t||"To pole jest wymagane."}],book:"",quote:{bookTitle:"",authors:"",bookId:"",text:"",tags:""},authorSearch:[],quotesTagSearch:[]}},methods:{submitForm:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=new FormData,a.append("bookTitle",t.quote.bookTitle),a.append("authors",t.quote.authors),a.append("bookId",t.quote.bookId),a.append("text",t.quote.text),a.append("tags",t.quote.tags),!t.$refs.form.validate()){e.next=11;break}return e.next=9,v.addQuote(a);case 9:r=e.sent,t.$router.push({name:"quotes",params:{message:r.message}});case 11:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null===localStorage.getItem("token")&&t.$router.push("/login"),!t.$route.params.id){e.next=9;break}return e.next=4,v.getBookById(t.$route.params.id);case 4:a=e.sent,t.book=a,t.quote.bookId=t.book._id,t.quote.bookTitle=t.book.title,t.quote.authors=t.book.authors.split(",");case 9:return e.next=11,v.getAutocompleteQuoteData();case 11:r=e.sent,t.authorSearch=Array.from(r.authors),t.quotesTagSearch=Array.from(r.tags);case 14:case"end":return e.stop()}}),e)})))()}},ie=se,ue=Object(V["a"])(ie,ne,oe,!1,null,null,null),ce=ue.exports;S()(ue,{VBtn:P["a"],VCard:X["a"],VCardTitle:it["c"],VCombobox:lt["a"],VContainer:T["a"],VDivider:R["a"],VForm:bt["a"],VTextField:vt["a"],VTextarea:ee["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h1",[t._v("Cytaty")]),a("v-divider"),a("v-sheet",{staticClass:"mx-auto",attrs:{color:"white","max-width":"1000"}},[a("v-container",{staticClass:"container"},[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{label:"Autor"},model:{value:t.filter.author,callback:function(e){t.$set(t.filter,"author",e)},expression:"filter.author"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tytuł"},model:{value:t.filter.title,callback:function(e){t.$set(t.filter,"title",e)},expression:"filter.title"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{staticClass:"mt-n2",attrs:{dense:"",multiple:"",chips:"",items:t.quotesTagSearch,label:"Tagi"},model:{value:t.filter.tags,callback:function(e){t.$set(t.filter,"tags",e)},expression:"filter.tags"}})],1),a("v-col",{attrs:{cols:"3"}}),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:t.items,label:"Sortuj wg"},model:{value:t.sort,callback:function(e){t.sort=e},expression:"sort"}})],1)],1)],1)],1),a("v-divider"),this.$route.params.message?a("v-alert",{attrs:{border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""}},[t._v(" "+t._s(this.$route.params.message)+" ")]):t._e(),a("v-divider"),a("v-pagination",{attrs:{length:Math.ceil(t.filterAndSortQuotes.length/t.pagination.perPage),circle:t.pagination.circle,"total-visible":t.pagination.totalVisible},on:{input:function(e){return t.updatePage(t.pagination.page)}},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}}),t._l(t.visibleQuotes,(function(t){return a("quote-tile",{key:t._id,attrs:{quote:t}})})),a("v-pagination",{staticClass:"mt-5",attrs:{length:Math.ceil(t.filterAndSortQuotes.length/t.pagination.perPage),circle:t.pagination.circle,"total-visible":t.pagination.totalVisible},on:{input:function(e){t.updatePage(t.pagination.page),t.scrollToTop()}},model:{value:t.pagination.page,callback:function(e){t.$set(t.pagination,"page",e)},expression:"pagination.page"}})],2)},pe=[],de=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"mx-auto mt-4",attrs:{rounded:"lg",width:"800",elevation:t.hover?24:6}},[a("v-card-subtitle",[t._v(t._s(t.quote.bookTitle)+" - "),t._l(t.authors,(function(e,r){return a("span",{key:r},[t._v(t._s(t.attributesWithComma(r,t.authors)))])}))],2),a("v-card-text",{staticClass:"headline font-weight-bold"},[t._v(' "'+t._s(t.quote.text)+'" ')]),a("v-card-subtitle",{staticClass:"mt-1 mb-n1"},[a("v-icon",[t._v("mdi-tag")]),t._l(t.tags,(function(e,r){return a("v-chip",{key:r,staticClass:"ml-1 mb-1",attrs:{to:{name:"quotes-tag",params:{tag:e}}}},[t._v(" "+t._s(e)+" ")])}))],2),t.logged?a("v-row",[a("v-col",{staticClass:"d-flex justify-end mx-n3"},[a("v-btn",{attrs:{color:"success",text:"",to:{name:"edit-quote",params:{id:t.quote._id}}}},[t._v("Edytuj")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(e){return t.removeQuote(t.quote._id)}}},[t._v("Usuń")])],1)],1):t._e()],1)},be=[],me={name:"QuoteTile",props:["quote"],data:function(){return{hover:"",authors:[],tags:[],logged:!1}},methods:{attributesWithComma:function(t,e){return j(t,e)},removeQuote:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v.deleteQuote(t);case 2:r=a.sent,e.$router.push({name:"books",params:{message:r.message}});case 4:case"end":return a.stop()}}),a)})))()}},created:function(){null!==localStorage.getItem("token")&&(this.logged=!0),this.authors=this.quote.authors.split(","),this.tags=this.quote.tags.split(",")}},fe=me,he=(a("de39"),Object(V["a"])(fe,de,be,!1,null,"c820fd74",null)),ve=he.exports;S()(he,{VBtn:P["a"],VCard:X["a"],VCardSubtitle:it["a"],VCardText:it["b"],VChip:Vt["a"],VCol:ct["a"],VIcon:E["a"],VRow:ft["a"]});var ge={components:{QuoteTile:ve},name:"Quotes",data:function(){return{quotes:[],visibleQuotes:[],items:["Sortuj wg","Data dodania - od najnowszej","Data dodania - od najstarszej"],sort:"Sortuj wg",filter:{bookTtitle:"",author:"",created:"",tags:[]},pagination:{page:1,perPage:10,circle:!0,totalVisible:9},date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu1:!1,menu2:!1,quotesTagSearch:[]}},computed:{filterAndSortQuotes:function(){var t=this,e=[];switch(e=this.quotes.filter((function(e){return e.authors.toLowerCase().includes(t.filter.author.toLowerCase())})).filter((function(e){return e.bookTitle.toLowerCase().includes(t.filter.bookTtitle.toLowerCase())})).filter((function(e){return t.searchTags(e,t.filter.tags)})),this.sort){case this.items[1]:e.sort((function(t,e){return t.created<e.created?1:-1}));break;case this.items[2]:e.sort((function(t,e){return t.created>e.created?1:-1}));break;default:return e}return e}},watch:{filterAndSortQuotes:function(){this.updatePage(1)},$route:function(){this.$route.params.tag&&(this.filter.tags=[],this.filter.tags.push(this.$route.params.tag))}},methods:{searchTags:function(t,e){var a=!0;return e.forEach((function(e){t.tags.toLowerCase().includes(e.toLowerCase())||(a=!1)})),a},updatePage:function(t){this.pagination.page=t,this.updateVisibleQuotes()},updateVisibleQuotes:function(){this.visibleQuotes=this.filterAndSortQuotes.slice((this.pagination.page-1)*this.pagination.perPage,(this.pagination.page-1)*this.pagination.perPage+this.pagination.perPage),0==this.visibleQuotes.length&&this.pagination.page>0&&this.updatePage(this.pagination.page-1)},scrollToTop:function(){window.scrollTo(0,0)}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.getAllQuotes();case 2:return t.quotes=e.sent,e.next=5,v.getAutocompleteQuoteData();case 5:a=e.sent,t.quotesTagSearch=Array.from(a.tags),t.$route.params.tag&&t.filter.tags.push(t.$route.params.tag),t.updatePage(1);case 9:case"end":return e.stop()}}),e)})))()}},ke=ge,xe=(a("c647"),Object(V["a"])(ke,le,pe,!1,null,null,null)),we=xe.exports;S()(xe,{VAlert:$t["a"],VAutocomplete:qt["a"],VCol:ct["a"],VContainer:T["a"],VDivider:R["a"],VPagination:At["a"],VRow:ft["a"],VSelect:Ot["a"],VSheet:zt["a"],VTextField:vt["a"]});var je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("h1",[t._v("Statystyki")]),a("v-sheet",{staticClass:"mx-auto",attrs:{color:"white","max-width":"1000"}},[a("h2",[t._v("Przeczytane książki")]),a("v-row",[a("v-col",{attrs:{cols:"2"}}),a("v-col",[a("v-progress-linear",{attrs:{height:"25"},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}},[a("strong",[t._v(t._s(t.readBooksNumber)+" / "+t._s(t.allBooksCounted)+" ("+t._s(Math.ceil(t.progress))+"%)")])])],1),a("v-col",{attrs:{cols:"2"}})],1),a("h2",[t._v("Liczba książek wg autorów")]),a("bar-chart",{attrs:{data:t.authorsCounted}}),a("h2",[t._v("Liczba książek wg wydawnictw")]),a("bar-chart",{attrs:{data:t.publishersCounted}}),a("h2",[t._v("Liczba książek zakupiona w danym roku")]),a("column-chart",{attrs:{data:t.booksByYear}}),a("h2",[t._v("Roczne wydatki")]),a("column-chart",{attrs:{data:t.expensesByYear,suffix:" zł"}})],1)],1)},ye=[],Ce={name:"Statistics",data:function(){return{authorsCounted:[],publishersCounted:[],expensesByYear:[],booksByYear:[],progress:0,readBooksNumber:0,allBooksCounted:0}},computed:{},watch:{},methods:{getExpensesForYears:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=[],n=t;case 2:if(!(n<=e)){a.next=10;break}return a.next=5,v.sumExpensesForYear(n);case 5:o=a.sent,r.push([n,Math.round(100*o)/100]);case 7:n++,a.next=2;break;case 10:return a.abrupt("return",r);case 11:case"end":return a.stop()}}),a)})))()},getBooksCountedByYear:function(t,e){return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=[],n=t;case 2:if(!(n<=e)){a.next=10;break}return a.next=5,v.getBooksByYear(n);case 5:o=a.sent,r.push([n,o.length]);case 7:n++,a.next=2;break;case 10:return a.abrupt("return",r);case 11:case"end":return a.stop()}}),a)})))()}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v.getCountedBooksByReadStatus(!0);case 2:return t.readBooksNumber=e.sent,e.next=5,v.getBooksCount();case 5:return t.allBooksCounted=e.sent,t.progress=t.readBooksNumber/t.allBooksCounted*100,e.next=9,v.getFieldValuesCountSortedDesc("authors");case 9:return a=e.sent,t.authorsCounted=a,t.authorsCounted.length=20,e.next=14,v.getFieldValuesCountSortedDesc("publishers");case 14:return r=e.sent,t.publishersCounted=r,t.publishersCounted.length=20,e.next=19,t.getBooksCountedByYear(2015,(new Date).getFullYear());case 19:return t.booksByYear=e.sent,e.next=22,t.getExpensesForYears(2015,(new Date).getFullYear());case 22:t.expensesByYear=e.sent;case 23:case"end":return e.stop()}}),e)})))()}},_e=Ce,Ve=(a("81f1"),a("8e36")),De=Object(V["a"])(_e,je,ye,!1,null,"5e0a56d2",null),Se=De.exports;S()(De,{VCol:ct["a"],VContainer:T["a"],VProgressLinear:Ve["a"],VRow:ft["a"],VSheet:zt["a"]});var Te=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-form",[a("v-container",[a("v-row",{staticClass:"mt-10",attrs:{dense:""}},[a("v-col"),a("v-col",{attrs:{cols:"4"}},[a("v-row",{attrs:{dense:""}},[a("v-text-field",{attrs:{label:"login",outlined:""},model:{value:t.user.name,callback:function(e){t.$set(t.user,"name",e)},expression:"user.name"}})],1),a("v-row",{attrs:{dense:""}},[a("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":t.show3?"mdi-eye":"mdi-eye-off",type:t.show3?"text":"password",name:"input-10-2",label:"password",value:"",outlined:""},on:{"click:append":function(e){t.show3=!t.show3}},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{block:""},on:{click:function(e){return t.login()}}},[t._v("login")])],1)],1),a("v-col")],1)],1)],1)},Re=[],Be={name:"Login",data:function(){return{user:{name:"",password:""},show3:!1}},methods:{login:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.user,e.next=3,v.login(a);case 3:e.sent,t.$router.push("/not-pass");case 5:case"end":return e.stop()}}),e)})))()}},created:function(){}},$e=Be,qe=Object(V["a"])($e,Te,Re,!1,null,null,null),Ae=qe.exports;S()(qe,{VBtn:P["a"],VCol:ct["a"],VContainer:T["a"],VForm:bt["a"],VRow:ft["a"],VTextField:vt["a"]});var Oe=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"pic"},[r("img",{staticClass:"img",attrs:{src:a("2941"),width:"300"}})])},ze=[],Fe={name:"NotPass",data:function(){return{}},methods:{},created:function(){}},Pe=Fe,Ee=(a("ca61"),Object(V["a"])(Pe,Oe,ze,!1,null,"4999785f",null)),Ie=Ee.exports;r["a"].use(U["a"]);var Qe=[{path:"/",name:"Home",component:at},{path:"/add-book",name:"add-book",component:kt},{path:"/books",name:"books",component:Pt},{path:"/book/:id",name:"book",component:Yt},{path:"/edit-book/:id",name:"edit-book",component:Jt},{path:"/books/:tag",name:"books-tag",component:Pt},{path:"/books/:author",name:"books-author",component:Pt},{path:"/add-quote",name:"add-quote",component:ce},{path:"/add-quote/:id",name:"add-quote",component:ce},{path:"/quotes",name:"quotes",component:we},{path:"/edit-quote/:id",name:"edit-quote",component:re},{path:"/quotes/:tag",name:"quotes-tag",component:we},{path:"/statistics",name:"statistics",component:Se},{path:"/login",name:"login",component:Ae},{path:"/not-pass",name:"not-pass",component:Ie},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Le=new U["a"]({mode:"history",base:"/",routes:Qe}),Me=Le,Ye=a("f309");r["a"].use(Ye["a"]);var We=new Ye["a"]({}),Ne=a("30ef"),Ue=a.n(Ne),Ke=a("d842");r["a"].use(Ke["a"].use(Ue.a)),r["a"].config.productionTip=!1,r["a"].component("book-tile",Tt),r["a"].component("quote-tile",ve),r["a"].component("info-banner",$),new r["a"]({router:Me,vuetify:We,render:function(t){return t(N)}}).$mount("#app")},"654c":function(t,e,a){"use strict";a("2100")},"81f1":function(t,e,a){"use strict";a("2b18")},"8c6a":function(t,e,a){"use strict";a("ae12")},ae12:function(t,e,a){},b9bd:function(t,e,a){},c647:function(t,e,a){"use strict";a("b9bd")},ca61:function(t,e,a){"use strict";a("17f8")},da13:function(t,e,a){"use strict";a("4dca")},de39:function(t,e,a){"use strict";a("1f32")},f94c:function(t,e,a){}});
//# sourceMappingURL=app.40492d89.js.map