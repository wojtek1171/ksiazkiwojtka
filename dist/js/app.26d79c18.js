(function(e){function t(t){for(var r,n,i=t[0],u=t[1],c=t[2],l=0,d=[];l<i.length;l++)n=i[l],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,n=1;n<a.length;n++){var i=a[n];0!==o[i]&&(r=!1)}r&&(s.splice(t--,1),e=u(u.s=a[0]))}return e}var r={},n={app:0},o={app:0},s=[];function i(e){return u.p+"js/"+({about:"about"}[e]||e)+"."+{about:"f5a43d04"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.e=function(e){var t=[],a={about:1};n[e]?t.push(n[e]):0!==n[e]&&a[e]&&t.push(n[e]=new Promise((function(t,a){for(var r="css/"+({about:"about"}[e]||e)+"."+{about:"2a543a0e"}[e]+".css",o=u.p+r,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===o))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],l=c.getAttribute("data-href");if(l===r||l===o)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete n[e],p.parentNode.removeChild(p),a(s)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){n[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var s=new Promise((function(t,a){r=o[e]=[t,a]}));t.push(r[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(e);var d=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+n+")",d.name="ChunkLoadError",d.type=r,d.request=n,a[1](d)}o[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,a){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(a,r,function(t){return e[t]}.bind(null,r));return a},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"17f8":function(e,t,a){},2941:function(e,t,a){e.exports=a.p+"img/notpass.17178dd7.jpg"},"376a":function(e,t,a){},"3e0f":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAACg0lEQVR4nO2cwW6DMBAF97vJx6eXpHIQYIN3PQt+I/nU1mVnINBIqZkYyuu1vHfXsrzp43ssR+KXZf9r9HE/hsMz/xui4XvoOW7N9svOqypdQRxpedlRkGAixCvIBXrEttwvFKSR6KvgKBY9eypOSQ24h9Dzp2HkPUJBKtARFOQDLV9BCkKEOtxTaC8I9FWgIAW0cMX4QMtWkAJatIIU/A/c+Q6sgjhAC1aMAlqwgqwIl+j8PhbtKxT6bFeQAq+zurqXYtSJFKMgJxklRDEaGC1EQQ6ghCjIBqQMxVhBC6F/fypOD7/zuDv8OJ4YwyzP67eCWJ4nHMWwXH8DTB/EOwYVxMsHSkSMHkFTXx2RMUYH8XaDEB3krCjFGLgij2WUszA8BF/9fAZ5BaaEFqgYBbRAxSioDZjlJUhBbrhol92Q8rw/mka77IY+mxWjgBb4mBj08NmWYiRaipFoKQa4yqcxNMQsMVoff+kWZjZHEMW42aI7mJliKEbCRXcwM8VIFcNMQWj/P9Ay6EX7/4GWQS/a/ya0FMWoQItSjAZogQpRoUfKAv1jGNpZOPTZrhgraMmKsYIWrRgF0SJ77zO0n+HQZ75iFNDCFWMFLV0xCmjpCrIBLV5BVtDipwxSG5KWP1WQlkFp+dMEOTMkHeDxQa4MSEdQkIafUxAHeoejYzwqiNdwCuKE53AK0knEYArSQdRgVwROH2TEYGf2V5BBg7XuqyDJhlKQhENNGyTrUAoSNNTVvaaMYRYbpGfP6UJ8iRjQYz/FcBjSW9hUMcz6g0QLmyqGWc7/Ht1yfB6zpyRzjL3j89g3LVlD7B2f594pyRpi6xij9k9F5hBTogjJkPxc/AGanl4au9Qa+wAAAABJRU5ErkJggg=="},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id="4678"},"4dca":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{id:"inspire"}},[r("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[r("info-banner")],1),r("v-app-bar",{attrs:{app:""}},[r("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}),r("v-img",{staticClass:"ml-2",attrs:{src:a("3e0f"),"max-width":"30"}}),r("v-tabs",{staticClass:"ml-n9",attrs:{centered:"",color:"grey darken-1"}},e._l(e.filterLinks(),(function(t){return r("v-tab",{key:t.title,attrs:{to:t.link}},[e._v(" "+e._s(t.title)+" ")])})),1),e.loggedIn?r("v-btn",{on:{click:e.logout}},[e._v("Logout")]):e._e(),e.loggedIn?e._e():r("router-link",{attrs:{to:"/login"}},[r("v-icon",{attrs:{large:""}},[e._v("mdi-cog")])],1)],1),r("v-main",[r("router-view")],1)],1)},o=[],s=a("1da1"),i=(a("96cf"),a("b0c0"),a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"mt-4"},[a("h3",[e._v("Kolekcja zawiera")]),a("v-divider"),a("h1",[e._v(e._s(e.booksCount))]),a("h3",[e._v(e._s(e.declineBook(e.booksCount)))]),a("v-divider"),a("h1",[e._v(e._s(e.authorsCount))]),a("h3",[e._v(e._s(e.declineAuthor(e.authorsCount)))]),a("v-divider"),a("h1",[e._v(e._s(e.pagesCount))]),a("h3",[e._v(e._s(e.declinePage(e.pagesCount)))]),a("v-divider"),a("h1",[e._v("12.6")]),a("h3",[e._v("metrów bieżących")]),a("v-divider"),a("h1",[e._v(e._s(e.quotesCount))]),a("h3",[e._v(e._s(e.declineQuote(e.quotesCount)))]),a("v-divider"),e.logged?a("v-container",[a("h1",[e._v(e._s(e.sum.purchasePrice.toFixed(2))+" zł")]),a("h3",[e._v("suma cen zakupu")]),a("v-divider"),a("h1",[e._v(e._s(e.sum.retailPrice.toFixed(2))+" zł")]),a("h3",[e._v("suma cen detalicznych")]),a("v-divider")],1):e._e()],1)}),u=[],c=a("3835"),l=a("d4ec"),d=a("bee2"),p=(a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("159b"),a("ac1f"),a("1276"),a("0481"),a("4fad"),a("bc3a")),m=a.n(p),b="/api/book",h="/api/quote",f="/api/user",v=function(){function e(){Object(l["a"])(this,e)}return Object(d["a"])(e,null,[{key:"getAllBooks",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBookById",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(b,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addBook",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(b,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateBook",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.patch("".concat(b,"/").concat(t),a);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteBook",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat(b,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAutocompleteData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={authors:new Set,publishers:new Set,translators:new Set,tags:new Set},e.next=3,this.getValuesFromFields("authors");case 3:return t.authors=e.sent,e.next=6,this.getValuesFromFields("publishers");case 6:return t.publishers=e.sent,e.next=9,this.getValuesFromFields("translators");case 9:return t.translators=e.sent,e.next=12,this.getValuesFromFields("tags");case 12:return t.tags=e.sent,e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getValuesFromFields",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(b,"/param/").concat(t));case 2:a=e.sent,r=[],e.t0=t,e.next="authors"===e.t0?7:"translators"===e.t0?9:"tags"===e.t0?11:"publishers"===e.t0?13:15;break;case 7:return a.data.forEach((function(e){return r.push(e.authors.split(","))})),e.abrupt("break",15);case 9:return a.data.forEach((function(e){return r.push(e.translators.split(","))})),e.abrupt("break",15);case 11:return a.data.forEach((function(e){return r.push(e.tags.split(","))})),e.abrupt("break",15);case 13:return a.data.forEach((function(e){return r.push(e.publisher.split(","))})),e.abrupt("break",15);case 15:return n=r.flat(1),e.abrupt("return",new Set(n));case 17:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBooksCount",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b+"/count");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPagesSum",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b);case 2:return t=e.sent,a=0,t.data.forEach((function(e){return a+=e.pages})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFieldValuesCountSortedDesc",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(b,"/param/").concat(t));case 2:a=e.sent,r=[],e.t0=t,e.next="authors"===e.t0?7:"translators"===e.t0?9:"tags"===e.t0?11:"publishers"===e.t0?13:15;break;case 7:return a.data.forEach((function(e){return r.push(e.authors.split(","))})),e.abrupt("break",15);case 9:return a.data.forEach((function(e){return r.push(e.translators.split(","))})),e.abrupt("break",15);case 11:return a.data.forEach((function(e){return r.push(e.tags.split(","))})),e.abrupt("break",15);case 13:return a.data.forEach((function(e){return r.push(e.publisher.split(","))})),e.abrupt("break",15);case 15:return n=r.flat(1),o={},n.forEach((function(e){o[e]=o[e]?o[e]+=1:1})),s=Object.entries(o).sort((function(e,t){var a=Object(c["a"])(e,2),r=(a[0],a[1]),n=Object(c["a"])(t,2),o=(n[0],n[1]);return o-r})),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBooksByYear",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b);case 2:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return new Date(e.purchaseDate).getFullYear()==t})));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sumExpensesForYear",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getBooksByYear(t);case 2:return a=e.sent,r=0,a.forEach((function(e){return r+=e.purchasePrice})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOverallExpenses",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b);case 2:return t=e.sent,a={purchasePrice:0,retailPrice:0},t.data.forEach((function(e){a.purchasePrice+=e.purchasePrice,a.retailPrice+=e.retailPrice})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getCountedBooksByReadStatus",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b);case 2:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return e.read===t})).length);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNewestBooks",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(b+"/crDate");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAllQuotes",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(h);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getQuoteById",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat(h,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getQuotesByBookId",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.get(h);case 2:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return e.bookId===t})));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addQuote",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.post(h,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateQuote",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.patch("".concat(h,"/").concat(t),a);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteQuote",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat(h,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAutocompleteQuoteData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={authors:new Set,tags:new Set},e.next=3,m.a.get(h);case 3:return a=e.sent,r=a.data,r.forEach((function(e){var a,r,n=null===(a=e.authors)||void 0===a?void 0:a.split(","),o=null===(r=e.tags)||void 0===r?void 0:r.split(",");n.forEach((function(e){return t.authors.add(e)})),o.forEach((function(e){return t.tags.add(e)}))})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("".concat(f,"/login/"),t);case 2:if(a=e.sent,200!==a.status){e.next=6;break}return localStorage.setItem("token",a.data.token),e.abrupt("return",a.data);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function g(e){return 1===e?"książka":e%10===2||e%10===3||e%10===4?"książki":"książek"}function k(e){return 1===e?"cytat":e%10===2||e%10===3||e%10===4?"cytaty":"cytatów"}function x(e){return 1===e?"stronę":e%10===2||e%10===3||e%10===4?"strony":"stron"}function w(e){return 1===e?"autora":"autorów"}function j(e,t){return e!==t.length-1?"".concat(t[e],","):t[e]}function y(e,t){if(e!==t.length-1)return", "}var _={data:function(){return{quotesTagSearch:[],booksCount:0,quotesCount:0,authorsCount:0,pagesCount:452,sum:{},logged:!1}},methods:{declineBook:function(e){return g(e)},declineQuote:function(e){return k(e)},declineAuthor:function(e){return w(e)},declinePage:function(e){return x(e)}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null!==localStorage.getItem("token")&&(e.logged=!0),t.next=3,v.getBooksCount();case 3:return a=t.sent,e.booksCount=a,t.next=7,v.getAllQuotes();case 7:return r=t.sent,e.quotesCount=r.length,t.next=11,v.getValuesFromFields("authors");case 11:return n=t.sent,e.authorsCount=n.size,t.next=15,v.getPagesSum();case 15:return o=t.sent,e.pagesCount=o,t.next=19,v.getOverallExpenses();case 19:s=t.sent,e.sum=s;case 21:case"end":return t.stop()}}),t)})))()}},C=_,V=(a("bc32"),a("2877")),D=a("6544"),S=a.n(D),T=a("a523"),R=a("ce7e"),B=Object(V["a"])(C,i,u,!1,null,"67e5f82e",null),$=B.exports;S()(B,{VContainer:T["a"],VDivider:R["a"]});var q={components:{InfoBanner:$},data:function(){return{links:[{title:"Home",link:"/",hidden:!1},{title:"Księgozbiór",link:"/books",hidden:!1},{title:"Cytaty",link:"/quotes",hidden:!1},{title:"Dodaj książkę",link:"/add-book",hidden:!0},{title:"Dodaj cytat",link:"/add-quote",hidden:!0},{title:"Statystyki",link:"/statistics",hidden:!1},{title:"Info",link:"/about",hidden:!1}],loggedIn:!1,drawer:null}},watch:{$route:function(){"not-pass"===this.$route.name&&this.reload()}},methods:{logout:function(){localStorage.clear(),this.loggedIn=!1,this.reload(),this.$router.push("/")},reload:function(){null!==localStorage.getItem("token")?(this.loggedIn=!0,this.links[3].hidden=!1,this.links[4].hidden=!1):(this.links[3].hidden=!0,this.links[4].hidden=!0),this.$forceUpdate()},filterLinks:function(){return this.links.filter((function(e){return!1===e.hidden}))}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!==localStorage.getItem("token")&&(e.links[3].hidden=!1,e.links[4].hidden=!1,e.loggedIn=!0);case 1:case"end":return t.stop()}}),t)})))()}},z=q,O=a("7496"),A=a("40dc"),P=a("5bc1"),F=a("8336"),E=a("132d"),I=a("adda"),Q=a("f6c4"),L=a("f774"),M=a("71a3"),Y=a("fe57"),W=Object(V["a"])(z,n,o,!1,null,null,null),N=W.exports;S()(W,{VApp:O["a"],VAppBar:A["a"],VAppBarNavIcon:P["a"],VBtn:F["a"],VIcon:E["a"],VImg:I["a"],VMain:Q["a"],VNavigationDrawer:L["a"],VTab:M["a"],VTabs:Y["a"]});var U=a("8c4f"),K=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Ostatnio dodane:")]),a("v-divider"),a("v-slide-group",{staticClass:"pa-0",attrs:{"show-arrows":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.books,(function(e){return a("v-slide-item",{key:e._id},[a("v-card",{staticClass:"ma-4",attrs:{height:"200",width:"150",elevation:"10",to:{name:"book",params:{id:e._id}}}},[a("v-img",{attrs:{"max-height":"250","max-width":"150",src:e.image}})],1)],1)})),1),a("v-divider",{staticClass:"mt-2"})],1)},H=[],J={name:"Home",data:function(){return{model:null,books:[]}},methods:{},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getNewestBooks();case 2:e.books=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},G=J,X=a("b0af"),Z=a("7efd"),ee=a("9dbe"),te=Object(V["a"])(G,K,H,!1,null,null,null),ae=te.exports;S()(te,{VCard:X["a"],VContainer:T["a"],VDivider:R["a"],VImg:I["a"],VSlideGroup:Z["b"],VSlideItem:ee["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700"}},[a("v-card-title",[e._v("Dodaj książę")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:e.rules},model:{value:e.book.title,callback:function(t){e.$set(e.book,"title",t)},expression:"book.title"}}),a("v-combobox",{attrs:{items:e.authorSearch,label:"Autor",multiple:"",chips:"",rules:e.rules},model:{value:e.book.authors,callback:function(t){e.$set(e.book,"authors",t)},expression:"book.authors"}}),a("v-combobox",{attrs:{items:e.publisherSearch,label:"Wydawnictwo",chips:""},model:{value:e.book.publisher,callback:function(t){e.$set(e.book,"publisher",t)},expression:"book.publisher"}}),a("v-text-field",{attrs:{label:"Rok wydania"},model:{value:e.book.publicationDate,callback:function(t){e.$set(e.book,"publicationDate",t)},expression:"book.publicationDate"}}),a("v-text-field",{attrs:{label:"Liczba stron"},model:{value:e.book.pages,callback:function(t){e.$set(e.book,"pages",t)},expression:"book.pages"}}),a("v-text-field",{attrs:{label:"Okładka"},model:{value:e.book.cover,callback:function(t){e.$set(e.book,"cover",t)},expression:"book.cover"}}),a("v-text-field",{attrs:{label:"Cena zakupu"},model:{value:e.book.purchasePrice,callback:function(t){e.$set(e.book,"purchasePrice",t)},expression:"book.purchasePrice"}}),a("v-text-field",{attrs:{label:"Cena detaliczna"},model:{value:e.book.retailPrice,callback:function(t){e.$set(e.book,"retailPrice",t)},expression:"book.retailPrice"}}),a("v-combobox",{attrs:{items:e.translatorSearch,label:"Tłumacz",multiple:"",chips:""},model:{value:e.book.translators,callback:function(t){e.$set(e.book,"translators",t)},expression:"book.translators"}}),a("v-text-field",{attrs:{label:"Tytuł oryginalny"},model:{value:e.book.originalTitle,callback:function(t){e.$set(e.book,"originalTitle",t)},expression:"book.originalTitle"}}),a("v-combobox",{attrs:{items:e.tagsSearch,label:"Tagi",multiple:"",chips:""},model:{value:e.book.tags,callback:function(t){e.$set(e.book,"tags",t)},expression:"book.tags"}}),a("v-checkbox",{attrs:{label:"Przeczytana"},model:{value:e.book.read,callback:function(t){e.$set(e.book,"read",t)},expression:"book.read"}}),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{"prepend-icon":"mdi-calendar",label:"Data zakupu",readonly:""},model:{value:e.book.purchaseDate,callback:function(t){e.$set(e.book,"purchaseDate",t)},expression:"book.purchaseDate"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.book.purchaseDate,callback:function(t){e.$set(e.book,"purchaseDate",t)},expression:"book.purchaseDate"}})],1)],1),a("v-spacer")],1),a("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",label:"Dodaj okładkę"},on:{change:e.selectFile}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[e._v("Dodaj książkę")])],1)],1)],1)},ne=[],oe=(a("a630"),{data:function(){return{rules:[function(e){return!!e||"To pole jest wymagane."}],book:{title:"",authors:"",publisher:"",publicationDate:"",pages:"",cover:"",purchasePrice:"",retailPrice:"",read:!1,purchaseDate:(new Date).toISOString().substr(0,10),translators:"",originalTitle:"",tags:"",image:"https://i.imgur.com/rpVYMUX.jpeg"},image:"https://i.imgur.com/rpVYMUX.jpeg",menu:!1,modal:!1,menu2:!1,authorSearch:[],publisherSearch:[],translatorSearch:[],tagsSearch:[]}},methods:{selectFile:function(e){this.image=e[0]},submitForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,a.append("image",e.image),a.append("title",e.book.title),a.append("authors",e.book.authors),a.append("publisher",e.book.publisher),a.append("publicationDate",e.book.publicationDate),a.append("pages",e.book.pages),a.append("cover",e.book.cover),a.append("purchasePrice",e.book.purchasePrice),a.append("retailPrice",e.book.retailPrice),a.append("read",e.book.read),a.append("purchaseDate",e.book.purchaseDate),a.append("translators",e.book.translators),a.append("originalTitle",e.book.originalTitle),a.append("tags",e.book.tags),!e.$refs.form.validate()){t.next=20;break}return t.next=18,v.addBook(a);case 18:r=t.sent,e.$router.push({name:"books",params:{message:r.message}});case 20:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null===localStorage.getItem("token")&&e.$router.push("/login"),t.next=3,v.getAutocompleteData();case 3:a=t.sent,e.authorSearch=Array.from(a.authors),e.publisherSearch=Array.from(a.publishers),e.translatorSearch=Array.from(a.translators),e.tagsSearch=Array.from(a.tags);case 8:case"end":return t.stop()}}),t)})))()}}),se=oe,ie=a("99d9"),ue=a("ac7c"),ce=a("62ad"),le=a("2b5d"),de=a("2e4b"),pe=a("23a7"),me=a("4bd4"),be=a("e449"),he=a("0fd9"),fe=a("2fa4"),ve=a("8654"),ge=Object(V["a"])(se,re,ne,!1,null,null,null),ke=ge.exports;S()(ge,{VBtn:F["a"],VCard:X["a"],VCardTitle:ie["c"],VCheckbox:ue["a"],VCol:ce["a"],VCombobox:le["a"],VContainer:T["a"],VDatePicker:de["a"],VDivider:R["a"],VFileInput:pe["a"],VForm:me["a"],VMenu:be["a"],VRow:he["a"],VSpacer:fe["a"],VTextField:ve["a"]});var xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Księgozbiór")]),a("v-divider"),a("v-sheet",{staticClass:"mx-auto",attrs:{color:"white","max-width":"1000"}},[a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{label:"Autor"},model:{value:e.filter.author,callback:function(t){e.$set(e.filter,"author",t)},expression:"filter.author"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tytuł"},model:{value:e.filter.title,callback:function(t){e.$set(e.filter,"title",t)},expression:"filter.title"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Wydawnictwo"},model:{value:e.filter.publisher,callback:function(t){e.$set(e.filter,"publisher",t)},expression:"filter.publisher"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tłumacz"},model:{value:e.filter.translator,callback:function(t){e.$set(e.filter,"translator",t)},expression:"filter.translator"}})],1)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{staticClass:"mt-n4",attrs:{sm:"4"}},[a("v-checkbox",{attrs:{label:"Filtruj po dacie zakupu"},model:{value:e.filter.isDateFilterEneabled,callback:function(t){e.$set(e.filter,"isDateFilterEneabled",t)},expression:"filter.isDateFilterEneabled"}})],1),a("v-col",{attrs:{col:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data zakupu od","prepend-icon":"mdi-calendar",disabled:!e.filter.isDateFilterEneabled,readonly:""},model:{value:e.filter.purchaseDateFrom,callback:function(t){e.$set(e.filter,"purchaseDateFrom",t)},expression:"filter.purchaseDateFrom"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{on:{input:function(t){e.menu1=!1}},model:{value:e.filter.purchaseDateFrom,callback:function(t){e.$set(e.filter,"purchaseDateFrom",t)},expression:"filter.purchaseDateFrom"}})],1)],1),a("v-col",{attrs:{col:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data zakupu do","prepend-icon":"mdi-calendar",disabled:!e.filter.isDateFilterEneabled,readonly:""},model:{value:e.filter.purchaseDateTo,callback:function(t){e.$set(e.filter,"purchaseDateTo",t)},expression:"filter.purchaseDateTo"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.filter.purchaseDateTo,callback:function(t){e.$set(e.filter,"purchaseDateTo",t)},expression:"filter.purchaseDateTo"}})],1)],1)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{staticClass:"mt-n2",attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{dense:"",multiple:"",chips:"",items:e.tagsSearch,label:"Tagi"},model:{value:e.filter.tags,callback:function(t){e.$set(e.filter,"tags",t)},expression:"filter.tags"}})],1),a("v-col",{attrs:{sm:"2"}}),a("v-col",{staticClass:"mt-n4",attrs:{sm:"2"}},[a("v-checkbox",{attrs:{label:"Przeczytane"},model:{value:e.filter.read,callback:function(t){e.$set(e.filter,"read",t)},expression:"filter.read"}})],1),a("v-col",{staticClass:"mt-n4",attrs:{sm:"2"}},[a("v-checkbox",{attrs:{label:"Nieprzeczytane"},model:{value:e.filter.notRead,callback:function(t){e.$set(e.filter,"notRead",t)},expression:"filter.notRead"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"8"}}),a("v-col",{staticClass:"mt-n2",attrs:{cols:"4"}},[a("v-select",{attrs:{items:e.items,label:"Sortuj wg"},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}})],1)],1)],1)],1),a("v-divider"),this.$route.params.message?a("v-alert",{attrs:{border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""}},[e._v(" "+e._s(this.$route.params.message)+" ")]):e._e(),a("div",{staticClass:"niema"},[e._v("Wynik wyszukiwania: "+e._s(e.filterAndSortBooks.length)+" "+e._s(e.declineBook(e.filterAndSortBooks.length)))]),a("v-divider"),a("v-pagination",{staticClass:"mt-2",attrs:{length:Math.ceil(e.filterAndSortBooks.length/e.pagination.perPage),circle:e.pagination.circle,"total-visible":e.pagination.totalVisible},on:{input:function(t){return e.updatePage(e.pagination.page)}},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}}),e._l(e.visibleBooks,(function(e){return a("book-tile",{key:e._id,attrs:{book:e}})})),0==e.filterAndSortBooks.length?a("div",{staticClass:"niema"},[e._v("Nie znaleziono książek o podaych kryteriach.")]):e._e(),a("v-pagination",{staticClass:"mt-5",attrs:{length:Math.ceil(e.filterAndSortBooks.length/e.pagination.perPage),circle:e.pagination.circle,"total-visible":e.pagination.totalVisible},on:{input:function(t){e.updatePage(e.pagination.page),e.scrollToTop()}},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],2)},we=[],je=(a("caad"),a("2532"),a("fb6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto mt-6",attrs:{"max-width":"900","min-height":"200",rounded:"lg",elevation:e.hover?24:6}},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-container",[a("v-badge",{attrs:{value:e.book.read,icon:"mdi-check-circle",left:"",color:"green",overlap:"","offset-y":"3"}},[a("router-link",{staticClass:"title2",attrs:{to:e.bookUrl}},[e._v(" "+e._s(e.book.title)+" ")])],1),a("div",e._l(e.authors,(function(t,r){return a("router-link",{key:r,staticClass:"author2",attrs:{to:{name:"books-author",params:{author:t}}}},[e._v(" "+e._s(t)+e._s(e.commaInbetween(r,e.authors))+" ")])})),1)],1),a("v-card-text",{class:e.marginCover[1]},[a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"12",md:"10",sm:"10",xs:"5",order:"2","order-sm":"1"}},[a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[e._v("Rok wydania:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.publicationDate))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[e._v("Liczba stron:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.pages))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[e._v("Oprawa:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.cover))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[e._v("Wydawnictwo:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.publisher))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"5"}},[e._v("Tłumacz:")]),a("v-col",{staticClass:"attribute"},e._l(e.translators,(function(t,r){return a("span",{key:r},[e._v(e._s(e.attributesWithComma(r,e.translators))+" ")])})),0)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"3",sm:"3",xs:"4"}},[e._v("Tytuł oryginalny:")]),a("v-col",{staticClass:"attribute",attrs:{"align-self":"center"}},[e._v(e._s(e.book.originalTitle))])],1)],1),a("v-col",{attrs:{cols:"12",md:"2",sm:"2",xs:"2",order:"1","order-sm":"2",align:"center"}},[a("v-card",{class:e.marginCover[0],attrs:{elevation:"10","max-height":"210","max-width":"150",to:{name:"book",params:{id:e.book._id}}}},[a("v-img",{attrs:{"max-height":"210","max-width":"150",src:e.book.image}})],1)],1)],1)],1)],1)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",[a("v-chip-group",{staticClass:"ml-3"},[a("v-icon",[e._v("mdi-tag")]),e._l(e.tags,(function(t,r){return a("v-chip",{key:r,staticClass:"mb-1",attrs:{to:{name:"books-tag",params:{tag:t}}}},[e._v(" "+e._s(t)+" ")])}))],2)],1)],1)],1)}),ye=[],_e={name:"BookTile",props:["book"],data:function(){return{hover:"",bookUrl:"/book/".concat(this.book._id),authors:[],translators:[],tags:[]}},computed:{marginCover:function(){switch(this.$vuetify.breakpoint.name){case"xs":return["mt-n6 mb-2"];case"sm":return["mt-n8","mt-n5"];case"md":return["mt-n8 mr-4","mt-n5"];case"lg":return["mt-n8 mr-4","mt-n5"];case"xl":return["mt-n8 mr-4","mt-n5"]}}},methods:{attributesWithComma:function(e,t){return j(e,t)},commaInbetween:function(e,t){return y(e,t)}},created:function(){this.authors=this.book.authors.split(","),this.translators=this.book.translators.split(","),this.tags=this.book.tags.split(",")}},Ce=_e,Ve=(a("e94e"),a("4ca6")),De=a("cc20"),Se=a("ef9a"),Te=Object(V["a"])(Ce,je,ye,!1,null,"e058896a",null),Re=Te.exports;S()(Te,{VBadge:Ve["a"],VCard:X["a"],VCardText:ie["b"],VChip:De["a"],VChipGroup:Se["a"],VCol:ce["a"],VContainer:T["a"],VIcon:E["a"],VImg:I["a"],VRow:he["a"]});var Be={components:{BookTile:Re},name:"Books",data:function(){return{books:[],visibleBooks:[],items:["Sortuj wg","Data zakupu - od najnowszej","Data zakupu - od najstarszej","Liczba stron - od najmniejszej","Liczba stron - od największej"],sort:"Data zakupu - od najnowszej",filter:{purchaseDateFrom:new Date("2000-01-01").toISOString().substr(0,10),purchaseDateTo:(new Date).toISOString().substr(0,10),title:"",author:"",publisher:"",translator:"",read:!0,notRead:!0,tags:[],isDateFilterEneabled:!1},pagination:{page:1,perPage:10,circle:!0,totalVisible:9},tagsSearch:[],date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu1:!1,menu2:!1}},computed:{filterAndSortBooks:function(){var e=this,t=[];switch(t=this.books.filter((function(t){return t.authors.toLowerCase().includes(e.filter.author.toLowerCase())})).filter((function(t){return t.title.toLowerCase().includes(e.filter.title.toLowerCase())})).filter((function(t){return t.publisher.toLowerCase().includes(e.filter.publisher.toLowerCase())})).filter((function(t){return t.translators.toLowerCase().includes(e.filter.translator.toLowerCase())})).filter((function(t){return t.read===e.filter.read||t.read!=e.filter.notRead})).filter((function(t){return e.searchTags(t,e.filter.tags)})),this.filter.isDateFilterEneabled&&(t=t.filter((function(t){return t.purchaseDate>e.filter.purchaseDateFrom&&t.purchaseDate<e.filter.purchaseDateTo}))),this.sort){case this.items[1]:t.sort((function(e,t){return e.purchaseDate<t.purchaseDate?1:-1}));break;case this.items[2]:t.sort((function(e,t){return e.purchaseDate>t.purchaseDate?1:-1}));break;case this.items[3]:t.sort((function(e,t){return e.pages>t.pages?1:-1}));break;case this.items[4]:t.sort((function(e,t){return e.pages<t.pages?1:-1}));break;default:return t}return t}},watch:{filterAndSortBooks:function(){this.updatePage(1)},$route:function(){this.$route.params.tag&&(this.filter.tags=[],this.filter.author="",this.filter.tags.push(this.$route.params.tag)),this.$route.params.author&&(this.filter.tags=[],this.filter.author="",this.filter.author=this.$route.params.author)}},methods:{declineBook:function(e){return g(e)},searchTags:function(e,t){var a=!0;return t.forEach((function(t){e.tags.toLowerCase().includes(t.toLowerCase())||(a=!1)})),a},updatePage:function(e){this.pagination.page=e,this.updateVisibleBooks()},updateVisibleBooks:function(){this.visibleBooks=this.filterAndSortBooks.slice((this.pagination.page-1)*this.pagination.perPage,(this.pagination.page-1)*this.pagination.perPage+this.pagination.perPage),0==this.visibleBooks.length&&this.pagination.page>0&&this.updatePage(this.pagination.page-1)},scrollToTop:function(){window.scrollTo(0,0)}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getAllBooks();case 2:return e.books=t.sent,t.next=5,v.getAutocompleteData();case 5:a=t.sent,e.tagsSearch=Array.from(a.tags),e.$route.params.tag&&e.filter.tags.push(e.$route.params.tag),e.$route.params.author&&(e.filter.author=e.$route.params.author),e.updatePage(1);case 10:case"end":return t.stop()}}),t)})))()}},$e=Be,qe=(a("da13"),a("0798")),ze=a("c6a6"),Oe=a("891e"),Ae=a("b974"),Pe=a("8dd9"),Fe=Object(V["a"])($e,xe,we,!1,null,null,null),Ee=Fe.exports;S()(Fe,{VAlert:qe["a"],VAutocomplete:ze["a"],VCheckbox:ue["a"],VCol:ce["a"],VContainer:T["a"],VDatePicker:de["a"],VDivider:R["a"],VMenu:be["a"],VPagination:Oe["a"],VRow:he["a"],VSelect:Ae["a"],VSheet:Pe["a"],VTextField:ve["a"]});var Ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"mx-auto mt-3",attrs:{width:"800",elevation:e.hover?24:6}},[a("v-container",[a("div",{staticClass:"title"},[e._v(" "+e._s(e.book.title)+" ")]),a("div",e._l(e.authors,(function(t,r){return a("router-link",{key:r,staticClass:"author",attrs:{to:{name:"books-author",params:{author:t}}}},[e._v(" "+e._s(t)+e._s(e.commaInbetween(r,e.authors))+" ")])})),1)]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",order:"2","order-sm":"1"}},[a("v-card-text",[a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"12",md:"12",sm:"12",xs:"5",order:"2","order-sm":"1"}},[a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[e._v("Rok wydania:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.publicationDate))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[e._v("Liczba stron:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.pages))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[e._v("Oprawa:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.cover))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[e._v("Wydawnictwo:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.publisher))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[e._v("Cena zakupu:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.purchasePrice.toFixed(2))+" zł")])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[e._v("Cena detaliczna:")]),a("v-col",{staticClass:"attribute",attrs:{"align-self":"center"}},[e._v(e._s(e.book.retailPrice.toFixed(2))+" zł")])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[e._v("Data zakupu:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.purchaseDate))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[e._v("Przeczytana:")]),a("v-col",{staticClass:"attribute"},[e._v(e._s(e.book.read?"tak":"nie"))])],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"5"}},[e._v("Tłumacz:")]),a("v-col",{staticClass:"attribute"},e._l(e.translators,(function(t,r){return a("span",{key:r},[e._v(e._s(e.attributesWithComma(r,e.translators))+" ")])})),0)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{attrs:{cols:"4",md:"4",sm:"4",xs:"4"}},[e._v("Tytuł oryginalny:")]),a("v-col",{staticClass:"attribute",attrs:{"align-self":"center"}},[e._v(e._s(e.book.originalTitle))])],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4",order:"1","order-sm":"2",align:"center"}},[a("v-card",{staticClass:"mt-4",attrs:{"max-width":"150",elevation:"10"}},[a("v-img",{attrs:{"max-height":"210","max-width":"150",src:e.book.image}})],1)],1)],1),a("v-card-subtitle",{staticClass:"mt-n2"},[a("v-icon",[e._v("mdi-tag")]),e._l(e.tags,(function(t,r){return a("v-chip",{key:r,staticClass:"ml-1 mb-1",attrs:{to:{name:"books-tag",params:{tag:t}}}},[e._v(" "+e._s(t)+" ")])}))],2),e.logged?a("v-row",[a("v-col",{staticClass:"d-flex justify-end mx-n3"},[a("v-btn",{attrs:{color:"blue",text:"",to:{name:"add-quote",params:{id:e.book._id}}}},[e._v("Dodaj cytat")]),a("v-btn",{attrs:{color:"success",text:"",to:{name:"edit-book",params:{id:e.book._id}}}},[e._v("Edytuj")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){return e.removeBook(e.book._id)}}},[e._v("Usuń")])],1)],1):e._e()],1),a("v-divider",{staticClass:"ml-5 mt-5"}),0!=e.quotes.length?a("h2",[e._v("Cytaty")]):e._e(),e._l(e.quotes,(function(e){return a("quote-tile",{key:e.id,attrs:{quote:e}})}))],2)},Qe=[],Le={data:function(){return{book:{purchasePrice:0,retailPrice:0},quotes:[],authors:[],translators:[],tags:[],hover:"",logged:!1}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null!==localStorage.getItem("token")&&(e.logged=!0),t.next=3,v.getBookById(e.$route.params.id);case 3:return a=t.sent,e.book=a,e.book.purchaseDate=a.purchaseDate.substr(0,10),t.next=8,v.getQuotesByBookId(e.book._id);case 8:r=t.sent,e.quotes=r,e.authors=e.book.authors.split(","),e.translators=e.book.translators.split(","),e.tags=e.book.tags.split(",");case 13:case"end":return t.stop()}}),t)})))()},methods:{removeBook:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v.deleteBook(e);case 2:r=a.sent,t.$router.push({name:"books",params:{message:r.message}});case 4:case"end":return a.stop()}}),a)})))()},attributesWithComma:function(e,t){return j(e,t)},commaInbetween:function(e,t){return y(e,t)}}},Me=Le,Ye=(a("e189"),Object(V["a"])(Me,Ie,Qe,!1,null,"36bc371b",null)),We=Ye.exports;S()(Ye,{VBtn:F["a"],VCard:X["a"],VCardSubtitle:ie["a"],VCardText:ie["b"],VChip:De["a"],VCol:ce["a"],VContainer:T["a"],VDivider:R["a"],VIcon:E["a"],VImg:I["a"],VRow:he["a"]});var Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700"}},[a("v-card-title",[e._v("Edytuj książkę")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.updateForm(t)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:e.rules},model:{value:e.book.title,callback:function(t){e.$set(e.book,"title",t)},expression:"book.title"}}),a("v-combobox",{attrs:{items:e.authorSearch,label:"Autor",multiple:"",chips:"",rules:e.rules},model:{value:e.book.authors,callback:function(t){e.$set(e.book,"authors",t)},expression:"book.authors"}}),a("v-combobox",{attrs:{items:e.publisherSearch,label:"Wydawnictwo",chips:""},model:{value:e.book.publisher,callback:function(t){e.$set(e.book,"publisher",t)},expression:"book.publisher"}}),a("v-text-field",{attrs:{label:"Rok wydania"},model:{value:e.book.publicationDate,callback:function(t){e.$set(e.book,"publicationDate",t)},expression:"book.publicationDate"}}),a("v-text-field",{attrs:{label:"Liczba stron"},model:{value:e.book.pages,callback:function(t){e.$set(e.book,"pages",t)},expression:"book.pages"}}),a("v-text-field",{attrs:{label:"Okładka"},model:{value:e.book.cover,callback:function(t){e.$set(e.book,"cover",t)},expression:"book.cover"}}),a("v-text-field",{attrs:{label:"Cena zakupu"},model:{value:e.book.purchasePrice,callback:function(t){e.$set(e.book,"purchasePrice",t)},expression:"book.purchasePrice"}}),a("v-text-field",{attrs:{label:"Cena detaliczna"},model:{value:e.book.retailPrice,callback:function(t){e.$set(e.book,"retailPrice",t)},expression:"book.retailPrice"}}),a("v-combobox",{attrs:{items:e.translatorSearch,label:"Tłumacz",multiple:"",chips:""},model:{value:e.book.translators,callback:function(t){e.$set(e.book,"translators",t)},expression:"book.translators"}}),a("v-text-field",{attrs:{label:"Tytuł oryginalny"},model:{value:e.book.originalTitle,callback:function(t){e.$set(e.book,"originalTitle",t)},expression:"book.originalTitle"}}),a("v-combobox",{attrs:{items:e.tagsSearch,label:"Tagi",multiple:"",chips:""},model:{value:e.book.tags,callback:function(t){e.$set(e.book,"tags",t)},expression:"book.tags"}}),a("v-checkbox",{attrs:{label:"Przeczytana"},model:{value:e.book.read,callback:function(t){e.$set(e.book,"read",t)},expression:"book.read"}}),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data zakupu",readonly:""},model:{value:e.book.purchaseDate,callback:function(t){e.$set(e.book,"purchaseDate",t)},expression:"book.purchaseDate"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.book.purchaseDate,callback:function(t){e.$set(e.book,"purchaseDate",t)},expression:"book.purchaseDate"}})],1)],1),a("v-spacer")],1),a("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",label:"Dodaj okładkę"},on:{change:e.selectFile}}),a("v-img",{attrs:{src:e.book.image,width:"120"}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[e._v("Zatwierdź zmiany")])],1)],1)],1)},Ue=[],Ke={data:function(){return{rules:[function(e){return!!e||"To pole jest wymagane."}],book:{title:"",authors:"",publisher:"",publicationDate:"",pages:"",cover:"",purchasePrice:"",retailPrice:"",read:!1,purchaseDate:"",translators:"",originalTitle:"",tags:"",image:""},image:"",menu:!1,modal:!1,menu2:!1,authorSearch:[],publisherSearch:[],translatorSearch:[],tagsSearch:[]}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null===localStorage.getItem("token")&&e.$router.push("/login"),t.next=3,v.getBookById(e.$route.params.id);case 3:return a=t.sent,e.book=a,e.image=e.book.image,e.book.purchaseDate=new Date(e.book.purchaseDate).toISOString().substr(0,10),e.book.authors=a.authors.split(","),e.book.translators=a.translators.split(","),e.book.tags=a.tags.split(","),t.next=12,v.getAutocompleteData();case 12:r=t.sent,e.authorSearch=Array.from(r.authors),e.publisherSearch=Array.from(r.publishers),e.translatorSearch=Array.from(r.translators),e.tagsSearch=Array.from(r.tags);case 17:case"end":return t.stop()}}),t)})))()},methods:{selectFile:function(e){e&&(this.image=e[0])},updateForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,a.append("image",e.image),a.append("title",e.book.title),a.append("authors",e.book.authors),a.append("publisher",e.book.publisher),a.append("publicationDate",e.book.publicationDate),a.append("pages",e.book.pages),a.append("cover",e.book.cover),a.append("purchasePrice",e.book.purchasePrice),a.append("retailPrice",e.book.retailPrice),a.append("read",e.book.read),a.append("purchaseDate",e.book.purchaseDate),a.append("translators",e.book.translators),a.append("originalTitle",e.book.originalTitle),a.append("tags",e.book.tags),a.append("oldImage",e.book.image),!e.$refs.form.validate()){t.next=21;break}return t.next=19,v.updateBook(e.$route.params.id,a);case 19:r=t.sent,e.$router.push({name:"books",params:{message:r.message}});case 21:case"end":return t.stop()}}),t)})))()}}},He=Ke,Je=Object(V["a"])(He,Ne,Ue,!1,null,null,null),Ge=Je.exports;S()(Je,{VBtn:F["a"],VCard:X["a"],VCardTitle:ie["c"],VCheckbox:ue["a"],VCol:ce["a"],VCombobox:le["a"],VContainer:T["a"],VDatePicker:de["a"],VDivider:R["a"],VFileInput:pe["a"],VForm:me["a"],VImg:I["a"],VMenu:be["a"],VRow:he["a"],VSpacer:fe["a"],VTextField:ve["a"]});var Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mx-auto",attrs:{sm:"10"}},[a("v-card",{staticClass:"pa-5"},[a("v-card-title",[e._v("Edytuj cytat")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.updateForm(t)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:e.rules},model:{value:e.quote.bookTitle,callback:function(t){e.$set(e.quote,"bookTitle",t)},expression:"quote.bookTitle"}}),a("v-combobox",{attrs:{label:"Autor",multiple:"",chips:"",items:e.authorSearch,rules:e.rules},model:{value:e.quote.authors,callback:function(t){e.$set(e.quote,"authors",t)},expression:"quote.authors"}}),a("v-combobox",{attrs:{label:"Tagi",multiple:"",chips:"",items:e.quotesTagSearch},model:{value:e.quote.tags,callback:function(t){e.$set(e.quote,"tags",t)},expression:"quote.tags"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",label:"Tekst",value:""},model:{value:e.quote.text,callback:function(t){e.$set(e.quote,"text",t)},expression:"quote.text"}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[e._v("Zatwierdź zmiany")])],1)],1)],1)],1)],1)},Ze=[],et={data:function(){return{rules:[function(e){return!!e||"To pole jest wymagane."}],book:"",quote:{bookTitle:"",authors:[],bookId:"",text:"",tags:""},authorSearch:[],quotesTagSearch:[]}},methods:{updateForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,a.append("bookTitle",e.quote.bookTitle),a.append("authors",e.quote.authors),a.append("bookId",e.quote.bookId),a.append("text",e.quote.text),a.append("tags",e.quote.tags),!e.$refs.form.validate()){t.next=11;break}return t.next=9,v.updateQuote(e.$route.params.id,a);case 9:r=t.sent,e.$router.push({name:"books",params:{message:r.message}});case 11:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getQuoteById(e.$route.params.id);case 2:return a=t.sent,e.quote=a,e.quote.authors=a.authors.split(","),e.quote.tags=a.tags.split(","),t.next=8,v.getAutocompleteQuoteData();case 8:r=t.sent,e.authorSearch=Array.from(r.authors),e.quotesTagSearch=Array.from(r.tags);case 11:case"end":return t.stop()}}),t)})))()}},tt=et,at=a("a844"),rt=Object(V["a"])(tt,Xe,Ze,!1,null,null,null),nt=rt.exports;S()(rt,{VBtn:F["a"],VCard:X["a"],VCardTitle:ie["c"],VCol:ce["a"],VCombobox:le["a"],VContainer:T["a"],VDivider:R["a"],VForm:me["a"],VRow:he["a"],VTextField:ve["a"],VTextarea:at["a"]});var ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"700"}},[a("v-card-title",[e._v("Dodaj cytat")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:e.rules},model:{value:e.quote.bookTitle,callback:function(t){e.$set(e.quote,"bookTitle",t)},expression:"quote.bookTitle"}}),a("v-combobox",{attrs:{label:"Autor",multiple:"",chips:"",items:e.authorSearch,rules:e.rules},model:{value:e.quote.authors,callback:function(t){e.$set(e.quote,"authors",t)},expression:"quote.authors"}}),a("v-combobox",{attrs:{label:"Tagi",multiple:"",chips:"",items:e.quotesTagSearch},model:{value:e.quote.tags,callback:function(t){e.$set(e.quote,"tags",t)},expression:"quote.tags"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",label:"Tekst",value:""},model:{value:e.quote.text,callback:function(t){e.$set(e.quote,"text",t)},expression:"quote.text"}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[e._v("Dodaj cytat")])],1)],1)],1)},st=[],it={data:function(){return{rules:[function(e){return!!e||"To pole jest wymagane."}],book:"",quote:{bookTitle:"",authors:"",bookId:"",text:"",tags:""},authorSearch:[],quotesTagSearch:[]}},methods:{submitForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,a.append("bookTitle",e.quote.bookTitle),a.append("authors",e.quote.authors),a.append("bookId",e.quote.bookId),a.append("text",e.quote.text),a.append("tags",e.quote.tags),!e.$refs.form.validate()){t.next=11;break}return t.next=9,v.addQuote(a);case 9:r=t.sent,e.$router.push({name:"quotes",params:{message:r.message}});case 11:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===localStorage.getItem("token")&&e.$router.push("/login"),!e.$route.params.id){t.next=9;break}return t.next=4,v.getBookById(e.$route.params.id);case 4:a=t.sent,e.book=a,e.quote.bookId=e.book._id,e.quote.bookTitle=e.book.title,e.quote.authors=e.book.authors.split(",");case 9:return t.next=11,v.getAutocompleteQuoteData();case 11:r=t.sent,e.authorSearch=Array.from(r.authors),e.quotesTagSearch=Array.from(r.tags);case 14:case"end":return t.stop()}}),t)})))()}},ut=it,ct=Object(V["a"])(ut,ot,st,!1,null,null,null),lt=ct.exports;S()(ct,{VBtn:F["a"],VCard:X["a"],VCardTitle:ie["c"],VCombobox:le["a"],VContainer:T["a"],VDivider:R["a"],VForm:me["a"],VTextField:ve["a"],VTextarea:at["a"]});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Cytaty")]),a("v-divider"),a("v-sheet",{staticClass:"mx-auto",attrs:{color:"white","max-width":"1000"}},[a("v-container",{staticClass:"container"},[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{label:"Autor"},model:{value:e.filter.author,callback:function(t){e.$set(e.filter,"author",t)},expression:"filter.author"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tytuł"},model:{value:e.filter.title,callback:function(t){e.$set(e.filter,"title",t)},expression:"filter.title"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{staticClass:"mt-n2",attrs:{dense:"",multiple:"",chips:"",items:e.quotesTagSearch,label:"Tagi"},model:{value:e.filter.tags,callback:function(t){e.$set(e.filter,"tags",t)},expression:"filter.tags"}})],1),a("v-col",{attrs:{cols:"2"}}),a("v-col",{attrs:{cols:"4"}},[a("v-select",{attrs:{items:e.items,label:"Sortuj wg"},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}})],1)],1)],1)],1),a("v-divider"),this.$route.params.message?a("v-alert",{attrs:{border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""}},[e._v(" "+e._s(this.$route.params.message)+" ")]):e._e(),a("v-divider"),a("v-pagination",{attrs:{length:Math.ceil(e.filterAndSortQuotes.length/e.pagination.perPage),circle:e.pagination.circle,"total-visible":e.pagination.totalVisible},on:{input:function(t){return e.updatePage(e.pagination.page)}},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}}),e._l(e.visibleQuotes,(function(e){return a("quote-tile",{key:e._id,attrs:{quote:e}})})),a("v-pagination",{staticClass:"mt-5",attrs:{length:Math.ceil(e.filterAndSortQuotes.length/e.pagination.perPage),circle:e.pagination.circle,"total-visible":e.pagination.totalVisible},on:{input:function(t){e.updatePage(e.pagination.page),e.scrollToTop()}},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],2)},pt=[],mt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto mt-4",attrs:{rounded:"lg",width:"800",elevation:e.hover?24:6}},[a("v-card-subtitle",[e._v(e._s(e.quote.bookTitle)+" - "),e._l(e.authors,(function(t,r){return a("span",{key:r},[e._v(e._s(e.attributesWithComma(r,e.authors)))])}))],2),a("v-card-text",{staticClass:"headline font-weight-bold"},[a("div",{staticStyle:{"white-space":"pre-line"}},[e._v(" "+e._s(e.quote.text)+" ")])]),a("v-card-subtitle",{staticClass:"mt-1 mb-n1"},[a("v-icon",[e._v("mdi-tag")]),e._l(e.tags,(function(t,r){return a("v-chip",{key:r,staticClass:"ml-1 mb-1",attrs:{to:{name:"quotes-tag",params:{tag:t}}}},[e._v(" "+e._s(t)+" ")])}))],2),e.logged?a("v-row",[a("v-col",{staticClass:"d-flex justify-end mx-n3"},[a("v-btn",{attrs:{color:"success",text:"",to:{name:"edit-quote",params:{id:e.quote._id}}}},[e._v("Edytuj")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){return e.removeQuote(e.quote._id)}}},[e._v("Usuń")])],1)],1):e._e()],1)},bt=[],ht={name:"QuoteTile",props:["quote"],data:function(){return{hover:"",authors:[],tags:[],logged:!1}},methods:{attributesWithComma:function(e,t){return j(e,t)},removeQuote:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v.deleteQuote(e);case 2:r=a.sent,t.$router.push({name:"books",params:{message:r.message}});case 4:case"end":return a.stop()}}),a)})))()}},created:function(){null!==localStorage.getItem("token")&&(this.logged=!0),this.authors=this.quote.authors.split(","),this.tags=this.quote.tags.split(",")}},ft=ht,vt=(a("aca5"),Object(V["a"])(ft,mt,bt,!1,null,"4b773cbf",null)),gt=vt.exports;S()(vt,{VBtn:F["a"],VCard:X["a"],VCardSubtitle:ie["a"],VCardText:ie["b"],VChip:De["a"],VCol:ce["a"],VIcon:E["a"],VRow:he["a"]});var kt={components:{QuoteTile:gt},name:"Quotes",data:function(){return{quotes:[],visibleQuotes:[],items:["Sortuj wg","Data dodania - od najnowszej","Data dodania - od najstarszej"],sort:"Data dodania - od najnowszej",filter:{bookTtitle:"",author:"",created:"",tags:[]},pagination:{page:1,perPage:10,circle:!0,totalVisible:9},date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu1:!1,menu2:!1,quotesTagSearch:[]}},computed:{filterAndSortQuotes:function(){var e=this,t=[];switch(t=this.quotes.filter((function(t){return t.authors.toLowerCase().includes(e.filter.author.toLowerCase())})).filter((function(t){return t.bookTitle.toLowerCase().includes(e.filter.bookTtitle.toLowerCase())})).filter((function(t){return e.searchTags(t,e.filter.tags)})),this.sort){case this.items[1]:t.sort((function(e,t){return e.created<t.created?1:-1}));break;case this.items[2]:t.sort((function(e,t){return e.created>t.created?1:-1}));break;default:return t}return t}},watch:{filterAndSortQuotes:function(){this.updatePage(1)},$route:function(){this.$route.params.tag&&(this.filter.tags=[],this.filter.tags.push(this.$route.params.tag))}},methods:{searchTags:function(e,t){var a=!0;return t.forEach((function(t){e.tags.toLowerCase().includes(t.toLowerCase())||(a=!1)})),a},updatePage:function(e){this.pagination.page=e,this.updateVisibleQuotes()},updateVisibleQuotes:function(){this.visibleQuotes=this.filterAndSortQuotes.slice((this.pagination.page-1)*this.pagination.perPage,(this.pagination.page-1)*this.pagination.perPage+this.pagination.perPage),0==this.visibleQuotes.length&&this.pagination.page>0&&this.updatePage(this.pagination.page-1)},scrollToTop:function(){window.scrollTo(0,0)}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getAllQuotes();case 2:return e.quotes=t.sent,t.next=5,v.getAutocompleteQuoteData();case 5:a=t.sent,e.quotesTagSearch=Array.from(a.tags),e.$route.params.tag&&e.filter.tags.push(e.$route.params.tag),e.updatePage(1);case 9:case"end":return t.stop()}}),t)})))()}},xt=kt,wt=(a("c647"),Object(V["a"])(xt,dt,pt,!1,null,null,null)),jt=wt.exports;S()(wt,{VAlert:qe["a"],VAutocomplete:ze["a"],VCol:ce["a"],VContainer:T["a"],VDivider:R["a"],VPagination:Oe["a"],VRow:he["a"],VSelect:Ae["a"],VSheet:Pe["a"],VTextField:ve["a"]});var yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Statystyki")]),a("v-sheet",{staticClass:"mx-auto",attrs:{color:"white","max-width":"1000"}},[a("h2",[e._v("Przeczytane książki")]),a("v-row",[a("v-col",{attrs:{cols:"2"}}),a("v-col",[a("v-progress-linear",{attrs:{height:"25"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}},[a("strong",[e._v(e._s(e.readBooksNumber)+" / "+e._s(e.allBooksCounted)+" ("+e._s(Math.ceil(e.progress))+"%)")])])],1),a("v-col",{attrs:{cols:"2"}})],1),a("h2",[e._v("Liczba książek wg autorów")]),a("bar-chart",{attrs:{data:e.authorsCounted}}),a("h2",[e._v("Liczba książek wg wydawnictw")]),a("bar-chart",{attrs:{data:e.publishersCounted}}),a("h2",[e._v("Liczba książek zakupiona w danym roku")]),a("column-chart",{attrs:{data:e.booksByYear}}),a("h2",[e._v("Roczne wydatki")]),a("column-chart",{attrs:{data:e.expensesByYear,suffix:" zł"}})],1)],1)},_t=[],Ct={name:"Statistics",data:function(){return{authorsCounted:[],publishersCounted:[],expensesByYear:[],booksByYear:[],progress:0,readBooksNumber:0,allBooksCounted:0}},computed:{},watch:{},methods:{getExpensesForYears:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=[],n=e;case 2:if(!(n<=t)){a.next=10;break}return a.next=5,v.sumExpensesForYear(n);case 5:o=a.sent,r.push([n,Math.round(100*o)/100]);case 7:n++,a.next=2;break;case 10:return a.abrupt("return",r);case 11:case"end":return a.stop()}}),a)})))()},getBooksCountedByYear:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=[],n=e;case 2:if(!(n<=t)){a.next=10;break}return a.next=5,v.getBooksByYear(n);case 5:o=a.sent,r.push([n,o.length]);case 7:n++,a.next=2;break;case 10:return a.abrupt("return",r);case 11:case"end":return a.stop()}}),a)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getCountedBooksByReadStatus(!0);case 2:return e.readBooksNumber=t.sent,t.next=5,v.getBooksCount();case 5:return e.allBooksCounted=t.sent,e.progress=e.readBooksNumber/e.allBooksCounted*100,t.next=9,v.getFieldValuesCountSortedDesc("authors");case 9:return a=t.sent,e.authorsCounted=a,e.authorsCounted.length=20,t.next=14,v.getFieldValuesCountSortedDesc("publishers");case 14:return r=t.sent,e.publishersCounted=r,e.publishersCounted.length=20,t.next=19,e.getBooksCountedByYear(2013,(new Date).getFullYear());case 19:return e.booksByYear=t.sent,t.next=22,e.getExpensesForYears(2013,(new Date).getFullYear());case 22:e.expensesByYear=t.sent;case 23:case"end":return t.stop()}}),t)})))()}},Vt=Ct,Dt=(a("6343"),a("8e36")),St=Object(V["a"])(Vt,yt,_t,!1,null,"1a61dd93",null),Tt=St.exports;S()(St,{VCol:ce["a"],VContainer:T["a"],VProgressLinear:Dt["a"],VRow:he["a"],VSheet:Pe["a"]});var Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-container",[a("v-row",{staticClass:"mt-10",attrs:{dense:""}},[a("v-col"),a("v-col",{attrs:{cols:"4"}},[a("v-row",{attrs:{dense:""}},[a("v-text-field",{attrs:{label:"login",outlined:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),a("v-row",{attrs:{dense:""}},[a("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":e.show3?"mdi-eye":"mdi-eye-off",type:e.show3?"text":"password",name:"input-10-2",label:"password",value:"",outlined:""},on:{"click:append":function(t){e.show3=!e.show3}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{block:""},on:{click:function(t){return e.login()}}},[e._v("login")])],1)],1),a("v-col")],1)],1)],1)},Bt=[],$t={name:"Login",data:function(){return{user:{name:"",password:""},show3:!1}},methods:{login:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.user,t.next=3,v.login(a);case 3:t.sent,e.$router.push("/not-pass");case 5:case"end":return t.stop()}}),t)})))()}},created:function(){}},qt=$t,zt=Object(V["a"])(qt,Rt,Bt,!1,null,null,null),Ot=zt.exports;S()(zt,{VBtn:F["a"],VCol:ce["a"],VContainer:T["a"],VForm:me["a"],VRow:he["a"],VTextField:ve["a"]});var At=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pic"},[r("img",{staticClass:"img",attrs:{src:a("2941"),width:"300"}})])},Pt=[],Ft={name:"NotPass",data:function(){return{}},methods:{},created:function(){}},Et=Ft,It=(a("ca61"),Object(V["a"])(Et,At,Pt,!1,null,"4999785f",null)),Qt=It.exports;r["a"].use(U["a"]);var Lt=[{path:"/",name:"Home",component:ae},{path:"/add-book",name:"add-book",component:ke},{path:"/books",name:"books",component:Ee},{path:"/book/:id",name:"book",component:We},{path:"/edit-book/:id",name:"edit-book",component:Ge},{path:"/books/:tag",name:"books-tag",component:Ee},{path:"/books/:author",name:"books-author",component:Ee},{path:"/add-quote",name:"add-quote",component:lt},{path:"/add-quote/:id",name:"add-quote",component:lt},{path:"/quotes",name:"quotes",component:jt},{path:"/edit-quote/:id",name:"edit-quote",component:nt},{path:"/quotes/:tag",name:"quotes-tag",component:jt},{path:"/statistics",name:"statistics",component:Tt},{path:"/login",name:"login",component:Ot},{path:"/not-pass",name:"not-pass",component:Qt},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Mt=new U["a"]({mode:"history",base:"/",routes:Lt}),Yt=Mt,Wt=a("f309");r["a"].use(Wt["a"]);var Nt=new Wt["a"]({}),Ut=a("30ef"),Kt=a.n(Ut),Ht=a("d842");r["a"].use(Ht["a"].use(Kt.a)),r["a"].config.productionTip=!1,r["a"].component("book-tile",Re),r["a"].component("quote-tile",gt),r["a"].component("info-banner",$),new r["a"]({router:Yt,vuetify:Nt,render:function(e){return e(N)}}).$mount("#app")},6343:function(e,t,a){"use strict";a("7000")},"6ec4":function(e,t,a){},7e3:function(e,t,a){},"937c":function(e,t,a){},aca5:function(e,t,a){"use strict";a("b906")},b906:function(e,t,a){},b9bd:function(e,t,a){},bc32:function(e,t,a){"use strict";a("6ec4")},c647:function(e,t,a){"use strict";a("b9bd")},ca61:function(e,t,a){"use strict";a("17f8")},da13:function(e,t,a){"use strict";a("4dca")},e189:function(e,t,a){"use strict";a("937c")},e94e:function(e,t,a){"use strict";a("376a")}});
//# sourceMappingURL=app.26d79c18.js.map