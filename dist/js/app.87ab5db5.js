(function(e){function t(t){for(var r,s,i=t[0],u=t[1],c=t[2],l=0,d=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var u=a[s];0!==n[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function s(e){return i.p+"js/"+({about:"about"}[e]||e)+"."+{about:"4d01a7bd"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.e=function(e){var t=[],a=n[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,r){a=n[e]=[t,r]}));t.push(a[2]=r);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=s(e);var c=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(l);var a=n[e];if(0!==a){if(a){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",c.name="ChunkLoadError",c.type=r,c.request=o,a[1](c)}n[e]=void 0}};var l=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var p=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1747:function(e,t,a){},"17f8":function(e,t,a){},2089:function(e,t,a){"use strict";a("707d")},2941:function(e,t,a){e.exports=a.p+"img/notpass.17178dd7.jpg"},3040:function(e,t,a){"use strict";a("1747")},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(e){var t=o(e);return a(t)}function o(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=o,e.exports=n,n.id="4678"},"47bf":function(e,t,a){"use strict";a("a01b")},"4dca":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{attrs:{id:"inspire"}},[a("v-app-bar",{attrs:{app:"",color:"white",flat:""}},[a("v-tabs",{staticClass:"ml-n9",attrs:{centered:"",color:"grey darken-1"}},e._l(e.filterLinks(),(function(t){return a("v-tab",{key:t.title,attrs:{to:t.link}},[e._v(" "+e._s(t.title)+" ")])})),1),e.loggedIn?a("v-btn",{on:{click:e.logout}},[e._v("Logout")]):e._e(),e.loggedIn?e._e():a("router-link",{attrs:{to:"/login"}},[a("v-icon",{attrs:{large:""}},[e._v("mdi-cog")])],1)],1),a("v-main",{staticClass:"grey lighten-3"},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"2"}},[a("v-sheet",{attrs:{rounded:"lg","min-height":"300"}},[a("info-banner")],1)],1),a("v-col",{attrs:{cols:"10"}},[a("v-sheet",{attrs:{"min-height":"70vh","max-width":"1000",rounded:"lg"}},[a("router-view")],1)],1)],1)],1)],1)],1)},o=[],s=a("1da1"),i=(a("96cf"),a("b0c0"),a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h3",[e._v("Kolekcja zawiera")]),a("v-divider"),a("h1",[e._v(e._s(e.booksCount))]),a("h3",[e._v(e._s(e.declineBook(e.booksCount)))]),a("v-divider"),a("h1",[e._v(e._s(e.authorsCount))]),a("h3",[e._v(e._s(e.declineAuthor(e.authorsCount)))]),a("v-divider"),a("h1",[e._v(e._s(e.pagesCount))]),a("h3",[e._v(e._s(e.declinePage(e.pagesCount)))]),a("v-divider"),a("h1",[e._v("12.6")]),a("h3",[e._v("metrów bieżących")]),a("v-divider"),a("h1",[e._v(e._s(e.quotesCount))]),a("h3",[e._v(e._s(e.declineQuote(e.quotesCount)))]),a("v-divider")],1)}),u=[],c=a("3835"),l=a("d4ec"),p=a("bee2"),d=(a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("159b"),a("ac1f"),a("1276"),a("0481"),a("4fad"),a("bc3a")),b=a.n(d),f="/api/book",h="/api/quote",m="/api/user",v=function(){function e(){Object(l["a"])(this,e)}return Object(p["a"])(e,null,[{key:"getAllBooks",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(f);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getBookById",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(f,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addBook",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(f,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateBook",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.patch("".concat(f,"/").concat(t),a);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteBook",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("".concat(f,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAutocompleteData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={authors:new Set,publishers:new Set,translators:new Set,tags:new Set},e.next=3,this.getValuesFromFields("authors");case 3:return t.authors=e.sent,e.next=6,this.getValuesFromFields("publishers");case 6:return t.publishers=e.sent,e.next=9,this.getValuesFromFields("translators");case 9:return t.translators=e.sent,e.next=12,this.getValuesFromFields("tags");case 12:return t.tags=e.sent,e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getValuesFromFields",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(f,"/param/").concat(t));case 2:a=e.sent,r=[],e.t0=t,e.next="authors"===e.t0?7:"translators"===e.t0?9:"tags"===e.t0?11:"publishers"===e.t0?13:15;break;case 7:return a.data.forEach((function(e){return r.push(e.authors.split(","))})),e.abrupt("break",15);case 9:return a.data.forEach((function(e){return r.push(e.translators.split(","))})),e.abrupt("break",15);case 11:return a.data.forEach((function(e){return r.push(e.tags.split(","))})),e.abrupt("break",15);case 13:return a.data.forEach((function(e){return r.push(e.publisher.split(","))})),e.abrupt("break",15);case 15:return n=r.flat(1),e.abrupt("return",new Set(n));case 17:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBooksCount",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(f+"/count");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getPagesSum",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(f);case 2:return t=e.sent,a=0,t.data.forEach((function(e){return a+=e.pages})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getFieldValuesCountSortedDesc",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,r,n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(f,"/param/").concat(t));case 2:a=e.sent,r=[],e.t0=t,e.next="authors"===e.t0?7:"translators"===e.t0?9:"tags"===e.t0?11:"publishers"===e.t0?13:15;break;case 7:return a.data.forEach((function(e){return r.push(e.authors.split(","))})),e.abrupt("break",15);case 9:return a.data.forEach((function(e){return r.push(e.translators.split(","))})),e.abrupt("break",15);case 11:return a.data.forEach((function(e){return r.push(e.tags.split(","))})),e.abrupt("break",15);case 13:return a.data.forEach((function(e){return r.push(e.publisher.split(","))})),e.abrupt("break",15);case 15:return n=r.flat(1),o={},n.forEach((function(e){o[e]=o[e]?o[e]+=1:1})),s=Object.entries(o).sort((function(e,t){var a=Object(c["a"])(e,2),r=(a[0],a[1]),n=Object(c["a"])(t,2),o=(n[0],n[1]);return o-r})),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getBooksByYear",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(f);case 2:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return new Date(e.purchaseDate).getFullYear()==t})));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sumExpensesForYear",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getBooksByYear(t);case 2:return a=e.sent,r=0,a.forEach((function(e){return r+=e.purchasePrice})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCountedBooksByReadStatus",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(f);case 2:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return e.read===t})).length);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getNewestBooks",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(f+"/crDate");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getAllQuotes",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(h);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getQuoteById",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("".concat(h,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getQuotesByBookId",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(h);case 2:return a=e.sent,e.abrupt("return",a.data.filter((function(e){return e.bookId===t})));case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"addQuote",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.post(h,t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateQuote",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.patch("".concat(h,"/").concat(t),a);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},{key:"deleteQuote",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.delete("".concat(h,"/").concat(t));case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAutocompleteQuoteData",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={authors:new Set,tags:new Set},e.next=3,b.a.get(h);case 3:return a=e.sent,r=a.data,r.forEach((function(e){var a,r,n=null===(a=e.authors)||void 0===a?void 0:a.split(","),o=null===(r=e.tags)||void 0===r?void 0:r.split(",");n.forEach((function(e){return t.authors.add(e)})),o.forEach((function(e){return t.tags.add(e)}))})),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"login",value:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b.a.post("".concat(m,"/login/"),t);case 2:if(a=e.sent,200!==a.status){e.next=6;break}return localStorage.setItem("token",a.data.token),e.abrupt("return",a.data);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}]),e}();function g(e){return 1===e?"książka":e%10===2||e%10===3||e%10===4?"książki":"książek"}function k(e){return 1===e?"cytat":e%10===2||e%10===3||e%10===4?"cytaty":"cytatów"}function x(e){return 1===e?"stronę":e%10===2||e%10===3||e%10===4?"strony":"stron"}function w(e){return 1===e?"autora":"autorów"}function j(e,t){return e!==t.length-1?"".concat(t[e],","):t[e]}function y(e,t){if(e!==t.length-1)return", "}var _={data:function(){return{quotesTagSearch:[],booksCount:0,quotesCount:0,authorsCount:0,pagesCount:452}},methods:{declineBook:function(e){return g(e)},declineQuote:function(e){return k(e)},declineAuthor:function(e){return w(e)},declinePage:function(e){return x(e)}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getBooksCount();case 2:return a=t.sent,e.booksCount=a,t.next=6,v.getAllQuotes();case 6:return r=t.sent,e.quotesCount=r.length,t.next=10,v.getValuesFromFields("authors");case 10:return n=t.sent,e.authorsCount=n.size,t.next=14,v.getPagesSum();case 14:o=t.sent,e.pagesCount=o;case 16:case"end":return t.stop()}}),t)})))()}},C=_,V=(a("3040"),a("2877")),D=a("6544"),T=a.n(D),S=a("a523"),$=a("ce7e"),R=Object(V["a"])(C,i,u,!1,null,"344d5393",null),q=R.exports;T()(R,{VContainer:S["a"],VDivider:$["a"]});var B={components:{InfoBanner:q},data:function(){return{links:[{title:"Home",link:"/",hidden:!1},{title:"Księgozbiór",link:"/books",hidden:!1},{title:"Cytaty",link:"/quotes",hidden:!1},{title:"Dodaj książkę",link:"/add-book",hidden:!0},{title:"Dodaj cytat",link:"/add-quote",hidden:!0},{title:"Statystyki",link:"/statistics",hidden:!1},{title:"Info",link:"/about",hidden:!1}],loggedIn:!1}},watch:{$route:function(){"not-pass"===this.$route.name&&this.reload()}},methods:{logout:function(){localStorage.clear(),this.loggedIn=!1,this.reload(),this.$router.push("/")},reload:function(){null!==localStorage.getItem("token")?(this.loggedIn=!0,this.links[3].hidden=!1,this.links[4].hidden=!1):(this.links[3].hidden=!0,this.links[4].hidden=!0),this.$forceUpdate()},filterLinks:function(){return this.links.filter((function(e){return!1===e.hidden}))}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!==localStorage.getItem("token")&&(e.links[3].hidden=!1,e.links[4].hidden=!1,e.loggedIn=!0);case 1:case"end":return t.stop()}}),t)})))()}},O=B,z=a("7496"),P=a("40dc"),F=a("8336"),A=a("62ad"),I=a("132d"),E=a("f6c4"),Q=a("0fd9"),L=a("8dd9"),Y=a("71a3"),M=a("fe57"),W=Object(V["a"])(O,n,o,!1,null,null,null),N=W.exports;T()(W,{VApp:z["a"],VAppBar:P["a"],VBtn:F["a"],VCol:A["a"],VContainer:S["a"],VIcon:I["a"],VMain:E["a"],VRow:Q["a"],VSheet:L["a"],VTab:Y["a"],VTabs:M["a"]});var U=a("8c4f"),H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Ostatnio dodane:")]),a("v-slide-group",{staticClass:"pa-0",attrs:{"show-arrows":""},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.books,(function(e){return a("v-slide-item",{key:e._id},[a("v-card",{staticClass:"ma-4",attrs:{height:"200",width:"150",elevation:"10",to:{name:"book",params:{id:e._id}}}},[a("v-img",{attrs:{"max-height":"250","max-width":"150",src:"/"+e.image}})],1)],1)})),1)],1)},K=[],G={name:"Home",data:function(){return{model:null,books:[]}},methods:{},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getNewestBooks();case 2:e.books=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},J=G,Z=a("b0af"),X=a("adda"),ee=a("7efd"),te=a("9dbe"),ae=Object(V["a"])(J,H,K,!1,null,null,null),re=ae.exports;T()(ae,{VCard:Z["a"],VContainer:S["a"],VImg:X["a"],VSlideGroup:ee["b"],VSlideItem:te["a"]});var ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mx-auto",attrs:{sm:"10"}},[a("v-card",{staticClass:"pa-5"},[a("v-card-title",[e._v("Dodaj książę")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:e.rules},model:{value:e.book.title,callback:function(t){e.$set(e.book,"title",t)},expression:"book.title"}}),a("v-combobox",{attrs:{items:e.authorSearch,label:"Autor",multiple:"",chips:"",rules:e.rules},model:{value:e.book.authors,callback:function(t){e.$set(e.book,"authors",t)},expression:"book.authors"}}),a("v-combobox",{attrs:{items:e.publisherSearch,label:"Wydawnictwo",chips:""},model:{value:e.book.publisher,callback:function(t){e.$set(e.book,"publisher",t)},expression:"book.publisher"}}),a("v-text-field",{attrs:{label:"Rok wydania"},model:{value:e.book.publicationDate,callback:function(t){e.$set(e.book,"publicationDate",t)},expression:"book.publicationDate"}}),a("v-text-field",{attrs:{label:"Liczba stron"},model:{value:e.book.pages,callback:function(t){e.$set(e.book,"pages",t)},expression:"book.pages"}}),a("v-text-field",{attrs:{label:"Okładka"},model:{value:e.book.cover,callback:function(t){e.$set(e.book,"cover",t)},expression:"book.cover"}}),a("v-text-field",{attrs:{label:"Cena zakupu"},model:{value:e.book.purchasePrice,callback:function(t){e.$set(e.book,"purchasePrice",t)},expression:"book.purchasePrice"}}),a("v-text-field",{attrs:{label:"Cena detaliczna"},model:{value:e.book.retailPrice,callback:function(t){e.$set(e.book,"retailPrice",t)},expression:"book.retailPrice"}}),a("v-combobox",{attrs:{items:e.translatorSearch,label:"Tłumacz",multiple:"",chips:""},model:{value:e.book.translators,callback:function(t){e.$set(e.book,"translators",t)},expression:"book.translators"}}),a("v-text-field",{attrs:{label:"Tytuł oryginalny"},model:{value:e.book.originalTitle,callback:function(t){e.$set(e.book,"originalTitle",t)},expression:"book.originalTitle"}}),a("v-combobox",{attrs:{items:e.tagsSearch,label:"Tagi",multiple:"",chips:""},model:{value:e.book.tags,callback:function(t){e.$set(e.book,"tags",t)},expression:"book.tags"}}),a("v-checkbox",{attrs:{label:"Przeczytana"},model:{value:e.book.read,callback:function(t){e.$set(e.book,"read",t)},expression:"book.read"}}),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{"prepend-icon":"mdi-calendar",label:"Data zakupu",readonly:""},model:{value:e.book.purchaseDate,callback:function(t){e.$set(e.book,"purchaseDate",t)},expression:"book.purchaseDate"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.book.purchaseDate,callback:function(t){e.$set(e.book,"purchaseDate",t)},expression:"book.purchaseDate"}})],1)],1),a("v-spacer")],1),a("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",label:"Dodaj okładkę"},on:{change:e.selectFile}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[e._v("Dodaj książkę")])],1)],1)],1)],1)],1)},oe=[],se=(a("a630"),{data:function(){return{rules:[function(e){return!!e||"To pole jest wymagane."}],book:{title:"",authors:"",publisher:"",publicationDate:"",pages:"",cover:"",purchasePrice:"",retailPrice:"",read:!1,purchaseDate:(new Date).toISOString().substr(0,10),translators:"",originalTitle:"",tags:"",image:"cover-default.jpg"},image:"cover-default.jpg",menu:!1,modal:!1,menu2:!1,authorSearch:[],publisherSearch:[],translatorSearch:[],tagsSearch:[]}},methods:{selectFile:function(e){this.image=e[0]},submitForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,a.append("image",e.image),a.append("title",e.book.title),a.append("authors",e.book.authors),a.append("publisher",e.book.publisher),a.append("publicationDate",e.book.publicationDate),a.append("pages",e.book.pages),a.append("cover",e.book.cover),a.append("purchasePrice",e.book.purchasePrice),a.append("retailPrice",e.book.retailPrice),a.append("read",e.book.read),a.append("purchaseDate",e.book.purchaseDate),a.append("translators",e.book.translators),a.append("originalTitle",e.book.originalTitle),a.append("tags",e.book.tags),!e.$refs.form.validate()){t.next=20;break}return t.next=18,v.addBook(a);case 18:r=t.sent,e.$router.push({name:"books",params:{message:r.message}});case 20:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null===localStorage.getItem("token")&&e.$router.push("/login"),t.next=3,v.getAutocompleteData();case 3:a=t.sent,e.authorSearch=Array.from(a.authors),e.publisherSearch=Array.from(a.publishers),e.translatorSearch=Array.from(a.translators),e.tagsSearch=Array.from(a.tags);case 8:case"end":return t.stop()}}),t)})))()}}),ie=se,ue=a("99d9"),ce=a("ac7c"),le=a("2b5d"),pe=a("2e4b"),de=a("23a7"),be=a("4bd4"),fe=a("e449"),he=a("2fa4"),me=a("8654"),ve=Object(V["a"])(ie,ne,oe,!1,null,null,null),ge=ve.exports;T()(ve,{VBtn:F["a"],VCard:Z["a"],VCardTitle:ue["c"],VCheckbox:ce["a"],VCol:A["a"],VCombobox:le["a"],VContainer:S["a"],VDatePicker:pe["a"],VDivider:$["a"],VFileInput:de["a"],VForm:be["a"],VMenu:fe["a"],VRow:Q["a"],VSpacer:he["a"],VTextField:me["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Księgozbiór")]),a("v-divider"),a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{label:"Autor"},model:{value:e.filter.author,callback:function(t){e.$set(e.filter,"author",t)},expression:"filter.author"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tytuł"},model:{value:e.filter.title,callback:function(t){e.$set(e.filter,"title",t)},expression:"filter.title"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Wydawnictwo"},model:{value:e.filter.publisher,callback:function(t){e.$set(e.filter,"publisher",t)},expression:"filter.publisher"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tłumacz"},model:{value:e.filter.translator,callback:function(t){e.$set(e.filter,"translator",t)},expression:"filter.translator"}})],1)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{staticClass:"mt-n4",attrs:{sm:"4"}},[a("v-checkbox",{attrs:{label:"Filtruj po dacie zakupu"},model:{value:e.filter.isDateFilterEneabled,callback:function(t){e.$set(e.filter,"isDateFilterEneabled",t)},expression:"filter.isDateFilterEneabled"}})],1),a("v-col",{attrs:{col:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data zakupu od","prepend-icon":"mdi-calendar",disabled:!e.filter.isDateFilterEneabled,readonly:""},model:{value:e.filter.purchaseDateFrom,callback:function(t){e.$set(e.filter,"purchaseDateFrom",t)},expression:"filter.purchaseDateFrom"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{on:{input:function(t){e.menu1=!1}},model:{value:e.filter.purchaseDateFrom,callback:function(t){e.$set(e.filter,"purchaseDateFrom",t)},expression:"filter.purchaseDateFrom"}})],1)],1),a("v-col",{attrs:{col:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data zakupu do","prepend-icon":"mdi-calendar",disabled:!e.filter.isDateFilterEneabled,readonly:""},model:{value:e.filter.purchaseDateTo,callback:function(t){e.$set(e.filter,"purchaseDateTo",t)},expression:"filter.purchaseDateTo"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.filter.purchaseDateTo,callback:function(t){e.$set(e.filter,"purchaseDateTo",t)},expression:"filter.purchaseDateTo"}})],1)],1)],1),a("v-row",{attrs:{dense:"","no-gutters":""}},[a("v-col",{staticClass:"mt-n2",attrs:{cols:"6"}},[a("v-autocomplete",{attrs:{dense:"",multiple:"",chips:"",items:e.tagsSearch,label:"Tagi"},model:{value:e.filter.tags,callback:function(t){e.$set(e.filter,"tags",t)},expression:"filter.tags"}})],1),a("v-col",{attrs:{sm:"2"}}),a("v-col",{staticClass:"mt-n4",attrs:{sm:"2"}},[a("v-checkbox",{attrs:{label:"Przeczytane"},model:{value:e.filter.read,callback:function(t){e.$set(e.filter,"read",t)},expression:"filter.read"}})],1),a("v-col",{staticClass:"mt-n4",attrs:{sm:"2"}},[a("v-checkbox",{attrs:{label:"Nieprzeczytane"},model:{value:e.filter.notRead,callback:function(t){e.$set(e.filter,"notRead",t)},expression:"filter.notRead"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"9"}}),a("v-col",{staticClass:"mt-n2",attrs:{cols:"3"}},[a("v-select",{attrs:{items:e.items,label:"Sortuj wg"},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}})],1)],1)],1),a("v-divider"),this.$route.params.message?a("v-alert",{attrs:{border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""}},[e._v(" "+e._s(this.$route.params.message)+" ")]):e._e(),a("div",[e._v("Wynik wyszukiwania: "+e._s(e.filterAndSortBooks.length)+" "+e._s(e.declineBook(e.filterAndSortBooks.length)))]),a("v-divider"),a("v-pagination",{attrs:{length:Math.ceil(e.filterAndSortBooks.length/e.pagination.perPage),circle:e.pagination.circle,"total-visible":e.pagination.totalVisible},on:{input:function(t){return e.updatePage(e.pagination.page)}},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}}),e._l(e.visibleBooks,(function(e){return a("book-tile",{key:e._id,attrs:{book:e}})})),0==e.filterAndSortBooks.length?a("div",{staticClass:"niema"},[e._v("Nie znaleziono książek o podaych kryteriach.")]):e._e(),a("v-pagination",{staticClass:"mt-5",attrs:{length:Math.ceil(e.filterAndSortBooks.length/e.pagination.perPage),circle:e.pagination.circle,"total-visible":e.pagination.totalVisible},on:{input:function(t){e.updatePage(e.pagination.page),e.scrollToTop()}},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],2)},xe=[],we=(a("caad"),a("2532"),a("fb6a"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto mt-6",attrs:{"max-width":"900","min-height":"200",rounded:"lg",elevation:e.hover?24:6}},[a("v-row",[a("v-col",{attrs:{cols:"10"}},[a("router-link",{staticClass:"title2",attrs:{to:e.bookUrl}},[e._v(" "+e._s(e.book.title)+" ")]),a("div",{staticClass:"ml-2"},e._l(e.authors,(function(t,r){return a("router-link",{key:r,staticClass:"author2",attrs:{to:{name:"books-author",params:{author:t}}}},[e._v(" "+e._s(t)+e._s(e.commaInbetween(r,e.authors))+" ")])})),1),a("v-card-text",[a("v-container",{staticClass:"ml-n4 mt-n4 mb-n4"},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"2"}},[a("div",[e._v("Rok wydania:")]),a("div",[e._v("liczba stron:")]),a("div",[e._v("Oprawa:")])]),a("v-col",{staticClass:"col2",attrs:{cols:"2"}},[a("div",[e._v(e._s(e.book.publicationDate))]),a("div",[e._v(e._s(e.book.pages))]),a("div",[e._v(e._s(e.book.cover))])]),a("v-col",{staticClass:"col3",attrs:{cols:"3"}},[a("div",[e._v("Wydawnictwo:")]),a("div",[e._v("Tłumacz:")]),a("div",[e._v("Tytuł oryginalny:")])]),a("v-col",{staticClass:"col4",attrs:{cols:"6"}},[a("div",[e._v(e._s(e.book.publisher))]),e._l(e.translators,(function(t,r){return a("span",{key:r},[e._v(e._s(e.attributesWithComma(r,e.translators))+" ")])})),a("div",[e._v(e._s(e.book.originalTitle))])],2)],1)],1)],1)],1),a("v-col",{attrs:{cols:"2"}},[a("v-card",{staticClass:"ml-n5 mt-2",attrs:{elevation:"10",to:{name:"book",params:{id:e.book._id}}}},[a("v-img",{attrs:{"max-height":"190","max-width":"150",src:"/"+e.book.image}})],1)],1)],1),a("v-row",{staticClass:"ml-2",attrs:{dense:""}},[a("v-col",{staticClass:"mt-3 ml-1",attrs:{cols:"1"}},[a("v-icon",[e._v("mdi-tag")])],1),a("v-col",{staticClass:"ml-n10",attrs:{cols:"11"}},[a("v-chip-group",e._l(e.tags,(function(t,r){return a("v-chip",{key:r,staticClass:"mb-1",attrs:{to:{name:"books-tag",params:{tag:t}}}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)],1)}),je=[],ye={name:"BookTile",props:["book"],data:function(){return{hover:"",bookUrl:"/book/".concat(this.book._id),authors:[],translators:[],tags:[]}},methods:{attributesWithComma:function(e,t){return j(e,t)},commaInbetween:function(e,t){return y(e,t)}},created:function(){this.authors=this.book.authors.split(","),this.translators=this.book.translators.split(","),this.tags=this.book.tags.split(",")}},_e=ye,Ce=(a("fabf"),a("cc20")),Ve=a("ef9a"),De=Object(V["a"])(_e,we,je,!1,null,"b30e436a",null),Te=De.exports;T()(De,{VCard:Z["a"],VCardText:ue["b"],VChip:Ce["a"],VChipGroup:Ve["a"],VCol:A["a"],VContainer:S["a"],VIcon:I["a"],VImg:X["a"],VRow:Q["a"]});var Se={components:{BookTile:Te},name:"Books",data:function(){return{books:[],visibleBooks:[],items:["Sortuj wg","Data zakupu - od najnowszej","Data zakupu - od najstarszej"],sort:"Data zakupu - od najnowszej",filter:{purchaseDateFrom:new Date("2000-01-01").toISOString().substr(0,10),purchaseDateTo:(new Date).toISOString().substr(0,10),title:"",author:"",publisher:"",translator:"",read:!0,notRead:!0,tags:[],isDateFilterEneabled:!1},pagination:{page:1,perPage:10,circle:!0,totalVisible:9},tagsSearch:[],date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu1:!1,menu2:!1}},computed:{filterAndSortBooks:function(){var e=this,t=[];switch(t=this.books.filter((function(t){return t.authors.toLowerCase().includes(e.filter.author.toLowerCase())})).filter((function(t){return t.title.toLowerCase().includes(e.filter.title.toLowerCase())})).filter((function(t){return t.publisher.toLowerCase().includes(e.filter.publisher.toLowerCase())})).filter((function(t){return t.translators.toLowerCase().includes(e.filter.translator.toLowerCase())})).filter((function(t){return t.read===e.filter.read||t.read!=e.filter.notRead})).filter((function(t){return e.searchTags(t,e.filter.tags)})),this.filter.isDateFilterEneabled&&(t=t.filter((function(t){return t.purchaseDate>e.filter.purchaseDateFrom&&t.purchaseDate<e.filter.purchaseDateTo}))),this.sort){case this.items[1]:t.sort((function(e,t){return e.purchaseDate<t.purchaseDate?1:-1}));break;case this.items[2]:t.sort((function(e,t){return e.purchaseDate>t.purchaseDate?1:-1}));break;default:return t}return t}},watch:{filterAndSortBooks:function(){this.updatePage(1)},$route:function(){this.$route.params.tag&&(this.filter.tags=[],this.filter.author="",this.filter.tags.push(this.$route.params.tag)),this.$route.params.author&&(this.filter.tags=[],this.filter.author="",this.filter.author=this.$route.params.author)}},methods:{declineBook:function(e){return g(e)},searchTags:function(e,t){var a=!0;return t.forEach((function(t){e.tags.toLowerCase().includes(t.toLowerCase())||(a=!1)})),a},updatePage:function(e){this.pagination.page=e,this.updateVisibleBooks()},updateVisibleBooks:function(){this.visibleBooks=this.filterAndSortBooks.slice((this.pagination.page-1)*this.pagination.perPage,(this.pagination.page-1)*this.pagination.perPage+this.pagination.perPage),0==this.visibleBooks.length&&this.pagination.page>0&&this.updatePage(this.pagination.page-1)},scrollToTop:function(){window.scrollTo(0,0)}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getAllBooks();case 2:return e.books=t.sent,t.next=5,v.getAutocompleteData();case 5:a=t.sent,e.tagsSearch=Array.from(a.tags),e.$route.params.tag&&e.filter.tags.push(e.$route.params.tag),e.$route.params.author&&(e.filter.author=e.$route.params.author),e.updatePage(1);case 10:case"end":return t.stop()}}),t)})))()}},$e=Se,Re=(a("da13"),a("0798")),qe=a("c6a6"),Be=a("891e"),Oe=a("b974"),ze=Object(V["a"])($e,ke,xe,!1,null,null,null),Pe=ze.exports;T()(ze,{VAlert:Re["a"],VAutocomplete:qe["a"],VCheckbox:ce["a"],VCol:A["a"],VContainer:S["a"],VDatePicker:pe["a"],VDivider:$["a"],VMenu:fe["a"],VPagination:Be["a"],VRow:Q["a"],VSelect:Oe["a"],VTextField:me["a"]});var Fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-card",{staticClass:"mx-auto mt-3",attrs:{width:"800",elevation:e.hover?24:6}},[a("v-row",{staticClass:"ml-0"},[a("v-card-title",{staticClass:"headline"},[e._v(e._s(e.book.title))])],1),a("v-row",{staticClass:"ml-2"},e._l(e.authors,(function(t,r){return a("router-link",{key:r,staticClass:"author",attrs:{to:{name:"books-author",params:{author:t}}}},[e._v(" "+e._s(t)+e._s(e.commaInbetween(r,e.authors))+" ")])})),1),a("v-row",[a("v-col",{attrs:{cols:"8"}},[a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("div",[e._v("Wydawnictwo:")]),a("div",[e._v("Rok wydania:")]),a("div",[e._v("liczba stron:")]),a("div",[e._v("Oprawa:")]),a("div",[e._v("Cena zakupu:")]),a("div",[e._v("Cena detaliczna:")]),a("div",[e._v("Data zakupu:")]),a("div",[e._v("Przeczytana:")]),a("div",[e._v("Tłumacz:")]),a("div",[e._v("Tytuł oryginalny:")]),a("div")]),a("v-col",{attrs:{cols:"8"}},[a("div",[e._v(e._s(e.book.publisher))]),a("div",[e._v(e._s(e.book.publicationDate))]),a("div",[e._v(e._s(e.book.pages))]),a("div",[e._v(e._s(e.book.cover))]),a("div",[e._v(e._s(e.book.purchasePrice.toFixed(2))+" zł")]),a("div",[e._v(e._s(e.book.retailPrice.toFixed(2))+" zł")]),a("div",[e._v(e._s(e.book.purchaseDate))]),a("div",[e._v(e._s(e.book.read?"tak":"nie"))]),e._l(e.translators,(function(t,r){return a("span",{key:r},[e._v(e._s(e.attributesWithComma(r,e.translators))+" ")])})),a("div",[e._v(e._s(e.book.originalTitle))]),a("div")],2)],1)],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mt-n5 ml-5",attrs:{"max-width":"200",elevation:"10"}},[a("v-img",{attrs:{"max-height":"300","max-width":"200",src:"/"+e.book.image}})],1)],1)],1),a("v-card-subtitle",{staticClass:"mt-n2"},[a("v-icon",[e._v("mdi-tag")]),e._l(e.tags,(function(t,r){return a("v-chip",{key:r,staticClass:"ml-1 mb-1",attrs:{to:{name:"books-tag",params:{tag:t}}}},[e._v(" "+e._s(t)+" ")])}))],2),e.logged?a("v-row",[a("v-col",{staticClass:"d-flex justify-end mx-n3"},[a("v-btn",{attrs:{color:"blue",text:"",to:{name:"add-quote",params:{id:e.book._id}}}},[e._v("Dodaj cytat")]),a("v-btn",{attrs:{color:"success",text:"",to:{name:"edit-book",params:{id:e.book._id}}}},[e._v("Edytuj")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){return e.removeBook(e.book._id)}}},[e._v("Usuń")])],1)],1):e._e()],1),a("v-divider",{staticClass:"ml-5 mt-5"}),0!=e.quotes.length?a("h2",[e._v("Cytaty")]):e._e(),e._l(e.quotes,(function(e){return a("quote-tile",{key:e.id,attrs:{quote:e}})}))],2)},Ae=[],Ie={data:function(){return{book:{purchasePrice:0,retailPrice:0},quotes:[],authors:[],translators:[],tags:[],hover:"",logged:!1}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null!==localStorage.getItem("token")&&(e.logged=!0),t.next=3,v.getBookById(e.$route.params.id);case 3:return a=t.sent,e.book=a,e.book.purchaseDate=a.purchaseDate.substr(0,10),t.next=8,v.getQuotesByBookId(e.book._id);case 8:r=t.sent,e.quotes=r,e.authors=e.book.authors.split(","),e.translators=e.book.translators.split(","),e.tags=e.book.tags.split(",");case 13:case"end":return t.stop()}}),t)})))()},methods:{removeBook:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v.deleteBook(e);case 2:r=a.sent,t.$router.push({name:"books",params:{message:r.message}});case 4:case"end":return a.stop()}}),a)})))()},attributesWithComma:function(e,t){return j(e,t)},commaInbetween:function(e,t){return y(e,t)}}},Ee=Ie,Qe=(a("2089"),Object(V["a"])(Ee,Fe,Ae,!1,null,"3692da7d",null)),Le=Qe.exports;T()(Qe,{VBtn:F["a"],VCard:Z["a"],VCardSubtitle:ue["a"],VCardText:ue["b"],VCardTitle:ue["c"],VChip:Ce["a"],VCol:A["a"],VContainer:S["a"],VDivider:$["a"],VIcon:I["a"],VImg:X["a"],VRow:Q["a"]});var Ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mx-auto",attrs:{sm:"10"}},[a("v-card",{staticClass:"pa-5"},[a("v-card-title",[e._v("Edytuj książę")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.updateForm(t)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:e.rules},model:{value:e.book.title,callback:function(t){e.$set(e.book,"title",t)},expression:"book.title"}}),a("v-combobox",{attrs:{items:e.authorSearch,label:"Autor",multiple:"",chips:"",rules:e.rules},model:{value:e.book.authors,callback:function(t){e.$set(e.book,"authors",t)},expression:"book.authors"}}),a("v-combobox",{attrs:{items:e.publisherSearch,label:"Wydawnictwo",chips:""},model:{value:e.book.publisher,callback:function(t){e.$set(e.book,"publisher",t)},expression:"book.publisher"}}),a("v-text-field",{attrs:{label:"Rok wydania"},model:{value:e.book.publicationDate,callback:function(t){e.$set(e.book,"publicationDate",t)},expression:"book.publicationDate"}}),a("v-text-field",{attrs:{label:"Liczba stron"},model:{value:e.book.pages,callback:function(t){e.$set(e.book,"pages",t)},expression:"book.pages"}}),a("v-text-field",{attrs:{label:"Okładka"},model:{value:e.book.cover,callback:function(t){e.$set(e.book,"cover",t)},expression:"book.cover"}}),a("v-text-field",{attrs:{label:"Cena zakupu"},model:{value:e.book.purchasePrice,callback:function(t){e.$set(e.book,"purchasePrice",t)},expression:"book.purchasePrice"}}),a("v-text-field",{attrs:{label:"Cena detaliczna"},model:{value:e.book.retailPrice,callback:function(t){e.$set(e.book,"retailPrice",t)},expression:"book.retailPrice"}}),a("v-combobox",{attrs:{items:e.translatorSearch,label:"Tłumacz",multiple:"",chips:""},model:{value:e.book.translators,callback:function(t){e.$set(e.book,"translators",t)},expression:"book.translators"}}),a("v-text-field",{attrs:{label:"Tytuł oryginalny"},model:{value:e.book.originalTitle,callback:function(t){e.$set(e.book,"originalTitle",t)},expression:"book.originalTitle"}}),a("v-combobox",{attrs:{items:e.tagsSearch,label:"Tagi",multiple:"",chips:""},model:{value:e.book.tags,callback:function(t){e.$set(e.book,"tags",t)},expression:"book.tags"}}),a("v-checkbox",{attrs:{label:"Przeczytana"},model:{value:e.book.read,callback:function(t){e.$set(e.book,"read",t)},expression:"book.read"}}),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-menu",{attrs:{"close-on-content-click":!0,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"auto"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Data zakupu",readonly:""},model:{value:e.book.purchaseDate,callback:function(t){e.$set(e.book,"purchaseDate",t)},expression:"book.purchaseDate"}},"v-text-field",n,!1),r))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[a("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.book.purchaseDate,callback:function(t){e.$set(e.book,"purchaseDate",t)},expression:"book.purchaseDate"}})],1)],1),a("v-spacer")],1),a("v-file-input",{attrs:{"show-size":"",counter:"",multiple:"",label:"Dodaj okładkę"},on:{change:e.selectFile}}),a("v-img",{attrs:{src:"/"+e.book.image,width:"120"}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[e._v("Zatwierdź zmiany")])],1)],1)],1)],1)],1)},Me=[],We={data:function(){return{rules:[function(e){return!!e||"To pole jest wymagane."}],book:{title:"",authors:"",publisher:"",publicationDate:"",pages:"",cover:"",purchasePrice:"",retailPrice:"",read:!1,purchaseDate:"",translators:"",originalTitle:"",tags:"",image:""},image:"",menu:!1,modal:!1,menu2:!1,authorSearch:[],publisherSearch:[],translatorSearch:[],tagsSearch:[]}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return null===localStorage.getItem("token")&&e.$router.push("/login"),t.next=3,v.getBookById(e.$route.params.id);case 3:return a=t.sent,e.book=a,e.book.purchaseDate=new Date(e.book.purchaseDate).toISOString().substr(0,10),e.book.authors=a.authors.split(","),e.book.translators=a.translators.split(","),e.book.tags=a.tags.split(","),t.next=11,v.getAutocompleteData();case 11:r=t.sent,e.authorSearch=Array.from(r.authors),e.publisherSearch=Array.from(r.publishers),e.translatorSearch=Array.from(r.translators),e.tagsSearch=Array.from(r.tags);case 16:case"end":return t.stop()}}),t)})))()},methods:{selectFile:function(e){this.image=e[0]},updateForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,a.append("image",e.image),a.append("title",e.book.title),a.append("authors",e.book.authors),a.append("publisher",e.book.publisher),a.append("publicationDate",e.book.publicationDate),a.append("pages",e.book.pages),a.append("cover",e.book.cover),a.append("purchasePrice",e.book.purchasePrice),a.append("retailPrice",e.book.retailPrice),a.append("read",e.book.read),a.append("purchaseDate",e.book.purchaseDate),a.append("translators",e.book.translators),a.append("originalTitle",e.book.originalTitle),a.append("tags",e.book.tags),a.append("oldImage",e.book.image),!e.$refs.form.validate()){t.next=21;break}return t.next=19,v.updateBook(e.$route.params.id,a);case 19:r=t.sent,e.$router.push({name:"books",params:{message:r.message}});case 21:case"end":return t.stop()}}),t)})))()}}},Ne=We,Ue=Object(V["a"])(Ne,Ye,Me,!1,null,null,null),He=Ue.exports;T()(Ue,{VBtn:F["a"],VCard:Z["a"],VCardTitle:ue["c"],VCheckbox:ce["a"],VCol:A["a"],VCombobox:le["a"],VContainer:S["a"],VDatePicker:pe["a"],VDivider:$["a"],VFileInput:de["a"],VForm:be["a"],VImg:X["a"],VMenu:fe["a"],VRow:Q["a"],VSpacer:he["a"],VTextField:me["a"]});var Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mx-auto",attrs:{sm:"10"}},[a("v-card",{staticClass:"pa-5"},[a("v-card-title",[e._v("Edytuj cytat")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.updateForm(t)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:e.rules},model:{value:e.quote.bookTitle,callback:function(t){e.$set(e.quote,"bookTitle",t)},expression:"quote.bookTitle"}}),a("v-combobox",{attrs:{label:"Autor",multiple:"",chips:"",items:e.authorSearch,rules:e.rules},model:{value:e.quote.authors,callback:function(t){e.$set(e.quote,"authors",t)},expression:"quote.authors"}}),a("v-combobox",{attrs:{label:"Tagi",multiple:"",chips:"",items:e.quotesTagSearch},model:{value:e.quote.tags,callback:function(t){e.$set(e.quote,"tags",t)},expression:"quote.tags"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",label:"Tekst",value:""},model:{value:e.quote.text,callback:function(t){e.$set(e.quote,"text",t)},expression:"quote.text"}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[e._v("Zatwierdź zmiany")])],1)],1)],1)],1)],1)},Ge=[],Je={data:function(){return{rules:[function(e){return!!e||"To pole jest wymagane."}],book:"",quote:{bookTitle:"",authors:[],bookId:"",text:"",tags:""},authorSearch:[],quotesTagSearch:[]}},methods:{updateForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,a.append("bookTitle",e.quote.bookTitle),a.append("authors",e.quote.authors),a.append("bookId",e.quote.bookId),a.append("text",e.quote.text),a.append("tags",e.quote.tags),!e.$refs.form.validate()){t.next=11;break}return t.next=9,v.updateQuote(e.$route.params.id,a);case 9:r=t.sent,e.$router.push({name:"books",params:{message:r.message}});case 11:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getQuoteById(e.$route.params.id);case 2:return a=t.sent,e.quote=a,e.quote.authors=a.authors.split(","),e.quote.tags=a.tags.split(","),t.next=8,v.getAutocompleteQuoteData();case 8:r=t.sent,e.authorSearch=Array.from(r.authors),e.quotesTagSearch=Array.from(r.tags);case 11:case"end":return t.stop()}}),t)})))()}},Ze=Je,Xe=a("a844"),et=Object(V["a"])(Ze,Ke,Ge,!1,null,null,null),tt=et.exports;T()(et,{VBtn:F["a"],VCard:Z["a"],VCardTitle:ue["c"],VCol:A["a"],VCombobox:le["a"],VContainer:S["a"],VDivider:$["a"],VForm:be["a"],VRow:Q["a"],VTextField:me["a"],VTextarea:Xe["a"]});var at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mx-auto",attrs:{sm:"10"}},[a("v-card",{staticClass:"pa-5"},[a("v-card-title",[e._v("Dodaj cytat")]),a("v-divider"),a("v-form",{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[a("v-text-field",{attrs:{label:"Tytuł",rules:e.rules},model:{value:e.quote.bookTitle,callback:function(t){e.$set(e.quote,"bookTitle",t)},expression:"quote.bookTitle"}}),a("v-combobox",{attrs:{label:"Autor",multiple:"",chips:"",items:e.authorSearch,rules:e.rules},model:{value:e.quote.authors,callback:function(t){e.$set(e.quote,"authors",t)},expression:"quote.authors"}}),a("v-combobox",{attrs:{label:"Tagi",multiple:"",chips:"",items:e.quotesTagSearch},model:{value:e.quote.tags,callback:function(t){e.$set(e.quote,"tags",t)},expression:"quote.tags"}}),a("v-textarea",{attrs:{clearable:"","clear-icon":"mdi-close-circle",label:"Tekst",value:""},model:{value:e.quote.text,callback:function(t){e.$set(e.quote,"text",t)},expression:"quote.text"}}),a("v-btn",{staticClass:"mt-3",attrs:{type:"submit",color:"primary"}},[e._v("Dodaj cytat")])],1)],1)],1)],1)],1)},rt=[],nt={data:function(){return{rules:[function(e){return!!e||"To pole jest wymagane."}],book:"",quote:{bookTitle:"",authors:"",bookId:"",text:"",tags:""},authorSearch:[],quotesTagSearch:[]}},methods:{submitForm:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=new FormData,a.append("bookTitle",e.quote.bookTitle),a.append("authors",e.quote.authors),a.append("bookId",e.quote.bookId),a.append("text",e.quote.text),a.append("tags",e.quote.tags),!e.$refs.form.validate()){t.next=11;break}return t.next=9,v.addQuote(a);case 9:r=t.sent,e.$router.push({name:"quotes",params:{message:r.message}});case 11:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(null===localStorage.getItem("token")&&e.$router.push("/login"),!e.$route.params.id){t.next=9;break}return t.next=4,v.getBookById(e.$route.params.id);case 4:a=t.sent,e.book=a,e.quote.bookId=e.book._id,e.quote.bookTitle=e.book.title,e.quote.authors=e.book.authors.split(",");case 9:return t.next=11,v.getAutocompleteQuoteData();case 11:r=t.sent,e.authorSearch=Array.from(r.authors),e.quotesTagSearch=Array.from(r.tags);case 14:case"end":return t.stop()}}),t)})))()}},ot=nt,st=Object(V["a"])(ot,at,rt,!1,null,null,null),it=st.exports;T()(st,{VBtn:F["a"],VCard:Z["a"],VCardTitle:ue["c"],VCol:A["a"],VCombobox:le["a"],VContainer:S["a"],VDivider:$["a"],VForm:be["a"],VRow:Q["a"],VTextField:me["a"],VTextarea:Xe["a"]});var ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Cytaty")]),a("v-divider"),a("v-container",[a("v-row",{attrs:{dense:""}},[a("v-col",[a("v-text-field",{attrs:{label:"Autor"},model:{value:e.filter.author,callback:function(t){e.$set(e.filter,"author",t)},expression:"filter.author"}})],1),a("v-col",[a("v-text-field",{attrs:{label:"Tytuł"},model:{value:e.filter.title,callback:function(t){e.$set(e.filter,"title",t)},expression:"filter.title"}})],1)],1),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"6"}},[a("v-autocomplete",{staticClass:"mt-n2",attrs:{dense:"",multiple:"",chips:"",items:e.quotesTagSearch,label:"Tagi"},model:{value:e.filter.tags,callback:function(t){e.$set(e.filter,"tags",t)},expression:"filter.tags"}})],1),a("v-col",{attrs:{cols:"3"}}),a("v-col",{attrs:{cols:"3"}},[a("v-select",{attrs:{items:e.items,label:"Sortuj wg"},model:{value:e.sort,callback:function(t){e.sort=t},expression:"sort"}})],1)],1)],1),a("v-divider"),this.$route.params.message?a("v-alert",{attrs:{border:"left","close-text":"Close Alert",color:"green accent-4",dark:"",dismissible:""}},[e._v(" "+e._s(this.$route.params.message)+" ")]):e._e(),a("v-divider"),a("v-pagination",{attrs:{length:Math.ceil(e.filterAndSortQuotes.length/e.pagination.perPage),circle:e.pagination.circle,"total-visible":e.pagination.totalVisible},on:{input:function(t){return e.updatePage(e.pagination.page)}},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}}),e._l(e.visibleQuotes,(function(e){return a("quote-tile",{key:e._id,attrs:{quote:e}})})),a("v-pagination",{staticClass:"mt-5",attrs:{length:Math.ceil(e.filterAndSortQuotes.length/e.pagination.perPage),circle:e.pagination.circle,"total-visible":e.pagination.totalVisible},on:{input:function(t){e.updatePage(e.pagination.page),e.scrollToTop()}},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],2)},ct=[],lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"mx-auto mt-4",attrs:{rounded:"lg",width:"800",elevation:e.hover?24:6}},[a("v-card-subtitle",[e._v(e._s(e.quote.bookTitle)+" - "),e._l(e.authors,(function(t,r){return a("span",{key:r},[e._v(e._s(e.attributesWithComma(r,e.authors)))])}))],2),a("v-card-text",{staticClass:"headline font-weight-bold"},[e._v(" "+e._s(e.quote.text)+" ")]),a("v-card-subtitle",{staticClass:"mt-1 mb-n1"},[a("v-icon",[e._v("mdi-tag")]),e._l(e.tags,(function(t,r){return a("v-chip",{key:r,staticClass:"ml-1 mb-1",attrs:{to:{name:"quotes-tag",params:{tag:t}}}},[e._v(" "+e._s(t)+" ")])}))],2),e.logged?a("v-row",[a("v-col",{staticClass:"d-flex justify-end mx-n3"},[a("v-btn",{attrs:{color:"success",text:"",to:{name:"edit-quote",params:{id:e.quote._id}}}},[e._v("Edytuj")]),a("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){return e.removeQuote(e.quote._id)}}},[e._v("Usuń")])],1)],1):e._e()],1)},pt=[],dt={name:"QuoteTile",props:["quote"],data:function(){return{hover:"",authors:[],tags:[],logged:!1}},methods:{attributesWithComma:function(e,t){return j(e,t)},removeQuote:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,v.deleteQuote(e);case 2:r=a.sent,t.$router.push({name:"books",params:{message:r.message}});case 4:case"end":return a.stop()}}),a)})))()}},created:function(){null!==localStorage.getItem("token")&&(this.logged=!0),this.authors=this.quote.authors.split(","),this.tags=this.quote.tags.split(",")}},bt=dt,ft=(a("47bf"),Object(V["a"])(bt,lt,pt,!1,null,"0c50f364",null)),ht=ft.exports;T()(ft,{VBtn:F["a"],VCard:Z["a"],VCardSubtitle:ue["a"],VCardText:ue["b"],VChip:Ce["a"],VCol:A["a"],VIcon:I["a"],VRow:Q["a"]});var mt={components:{QuoteTile:ht},name:"Quotes",data:function(){return{quotes:[],visibleQuotes:[],items:["Sortuj wg","Data dodania - od najnowszej","Data dodania - od najstarszej"],sort:"Sortuj wg",filter:{bookTtitle:"",author:"",created:"",tags:[]},pagination:{page:1,perPage:10,circle:!0,totalVisible:9},date:(new Date).toISOString().substr(0,10),menu:!1,modal:!1,menu1:!1,menu2:!1,quotesTagSearch:[]}},computed:{filterAndSortQuotes:function(){var e=this,t=[];switch(t=this.quotes.filter((function(t){return t.authors.toLowerCase().includes(e.filter.author.toLowerCase())})).filter((function(t){return t.bookTitle.toLowerCase().includes(e.filter.bookTtitle.toLowerCase())})).filter((function(t){return e.searchTags(t,e.filter.tags)})),this.sort){case this.items[1]:t.sort((function(e,t){return e.created<t.created?1:-1}));break;case this.items[2]:t.sort((function(e,t){return e.created>t.created?1:-1}));break;default:return t}return t}},watch:{filterAndSortQuotes:function(){this.updatePage(1)},$route:function(){this.$route.params.tag&&(this.filter.tags=[],this.filter.tags.push(this.$route.params.tag))}},methods:{searchTags:function(e,t){var a=!0;return t.forEach((function(t){e.tags.toLowerCase().includes(t.toLowerCase())||(a=!1)})),a},updatePage:function(e){this.pagination.page=e,this.updateVisibleQuotes()},updateVisibleQuotes:function(){this.visibleQuotes=this.filterAndSortQuotes.slice((this.pagination.page-1)*this.pagination.perPage,(this.pagination.page-1)*this.pagination.perPage+this.pagination.perPage),0==this.visibleQuotes.length&&this.pagination.page>0&&this.updatePage(this.pagination.page-1)},scrollToTop:function(){window.scrollTo(0,0)}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getAllQuotes();case 2:return e.quotes=t.sent,t.next=5,v.getAutocompleteQuoteData();case 5:a=t.sent,e.quotesTagSearch=Array.from(a.tags),e.$route.params.tag&&e.filter.tags.push(e.$route.params.tag),e.updatePage(1);case 9:case"end":return t.stop()}}),t)})))()}},vt=mt,gt=(a("c647"),Object(V["a"])(vt,ut,ct,!1,null,null,null)),kt=gt.exports;T()(gt,{VAlert:Re["a"],VAutocomplete:qe["a"],VCol:A["a"],VContainer:S["a"],VDivider:$["a"],VPagination:Be["a"],VRow:Q["a"],VSelect:Oe["a"],VTextField:me["a"]});var xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Statystyki")]),a("h2",[e._v("Przeczytane książki")]),a("v-row",[a("v-col",{attrs:{cols:"2"}}),a("v-col",[a("v-progress-linear",{attrs:{height:"25"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}},[a("strong",[e._v(e._s(e.readBooksNumber)+" / "+e._s(e.allBooksCounted)+" ("+e._s(Math.ceil(e.progress))+"%)")])])],1),a("v-col",{attrs:{cols:"2"}})],1),a("h2",[e._v("Liczba książek wg autorów")]),a("bar-chart",{attrs:{data:e.authorsCounted}}),a("h2",[e._v("Liczba książek wg wydawnictw")]),a("bar-chart",{attrs:{data:e.publishersCounted}}),a("h2",[e._v("Liczba książek zakupiona w danym roku")]),a("column-chart",{attrs:{data:e.booksByYear}}),a("h2",[e._v("Roczne wydatki")]),a("column-chart",{attrs:{data:e.expensesByYear,suffix:" zł"}})],1)},wt=[],jt={name:"Statistics",data:function(){return{authorsCounted:[],publishersCounted:[],expensesByYear:[],booksByYear:[],progress:0,readBooksNumber:0,allBooksCounted:0}},computed:{},watch:{},methods:{getExpensesForYears:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=[],n=e;case 2:if(!(n<=t)){a.next=10;break}return a.next=5,v.sumExpensesForYear(n);case 5:o=a.sent,r.push([n,Math.round(100*o)/100]);case 7:n++,a.next=2;break;case 10:return a.abrupt("return",r);case 11:case"end":return a.stop()}}),a)})))()},getBooksCountedByYear:function(e,t){return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=[],n=e;case 2:if(!(n<=t)){a.next=10;break}return a.next=5,v.getBooksByYear(n);case 5:o=a.sent,r.push([n,o.length]);case 7:n++,a.next=2;break;case 10:return a.abrupt("return",r);case 11:case"end":return a.stop()}}),a)})))()}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,v.getFieldValuesCountSortedDesc("authors");case 2:return a=t.sent,e.authorsCounted=a,e.authorsCounted.length=20,t.next=7,v.getFieldValuesCountSortedDesc("publishers");case 7:return r=t.sent,e.publishersCounted=r,e.publishersCounted.length=20,t.next=12,e.getExpensesForYears(2015,(new Date).getFullYear());case 12:return e.expensesByYear=t.sent,t.next=15,e.getBooksCountedByYear(2015,(new Date).getFullYear());case 15:return e.booksByYear=t.sent,t.next=18,v.getCountedBooksByReadStatus(!0);case 18:return e.readBooksNumber=t.sent,t.next=21,v.getBooksCount();case 21:e.allBooksCounted=t.sent,e.progress=e.readBooksNumber/e.allBooksCounted*100;case 23:case"end":return t.stop()}}),t)})))()}},yt=jt,_t=(a("61cf"),a("8e36")),Ct=Object(V["a"])(yt,xt,wt,!1,null,"49990abc",null),Vt=Ct.exports;T()(Ct,{VCol:A["a"],VContainer:S["a"],VProgressLinear:_t["a"],VRow:Q["a"]});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",[a("v-container",[a("v-row",{staticClass:"mt-10",attrs:{dense:""}},[a("v-col"),a("v-col",{attrs:{cols:"4"}},[a("v-row",{attrs:{dense:""}},[a("v-text-field",{attrs:{label:"login",outlined:""},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}})],1),a("v-row",{attrs:{dense:""}},[a("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":e.show3?"mdi-eye":"mdi-eye-off",type:e.show3?"text":"password",name:"input-10-2",label:"password",value:"",outlined:""},on:{"click:append":function(t){e.show3=!e.show3}},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),a("v-row",{attrs:{dense:""}},[a("v-btn",{attrs:{block:""},on:{click:function(t){return e.login()}}},[e._v("login")])],1)],1),a("v-col")],1)],1)],1)},Tt=[],St={name:"Login",data:function(){return{user:{name:"",password:""},show3:!1}},methods:{login:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.user,t.next=3,v.login(a);case 3:t.sent,e.$router.push("/not-pass");case 5:case"end":return t.stop()}}),t)})))()}},created:function(){}},$t=St,Rt=Object(V["a"])($t,Dt,Tt,!1,null,null,null),qt=Rt.exports;T()(Rt,{VBtn:F["a"],VCol:A["a"],VContainer:S["a"],VForm:be["a"],VRow:Q["a"],VTextField:me["a"]});var Bt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pic"},[r("img",{staticClass:"img",attrs:{src:a("2941"),width:"300"}})])},Ot=[],zt={name:"NotPass",data:function(){return{}},methods:{},created:function(){}},Pt=zt,Ft=(a("ca61"),Object(V["a"])(Pt,Bt,Ot,!1,null,"4999785f",null)),At=Ft.exports;r["a"].use(U["a"]);var It=[{path:"/",name:"Home",component:re},{path:"/add-book",name:"add-book",component:ge},{path:"/books",name:"books",component:Pe},{path:"/book/:id",name:"book",component:Le},{path:"/edit-book/:id",name:"edit-book",component:He},{path:"/books/:tag",name:"books-tag",component:Pe},{path:"/books/:author",name:"books-author",component:Pe},{path:"/add-quote",name:"add-quote",component:it},{path:"/add-quote/:id",name:"add-quote",component:it},{path:"/quotes",name:"quotes",component:kt},{path:"/edit-quote/:id",name:"edit-quote",component:tt},{path:"/quotes/:tag",name:"quotes-tag",component:kt},{path:"/statistics",name:"statistics",component:Vt},{path:"/login",name:"login",component:qt},{path:"/not-pass",name:"not-pass",component:At},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Et=new U["a"]({mode:"history",base:"/",routes:It}),Qt=Et,Lt=a("f309");r["a"].use(Lt["a"]);var Yt=new Lt["a"]({}),Mt=a("30ef"),Wt=a.n(Mt),Nt=a("d842");r["a"].use(Nt["a"].use(Wt.a)),r["a"].config.productionTip=!1,r["a"].component("book-tile",Te),r["a"].component("quote-tile",ht),r["a"].component("info-banner",q),new r["a"]({router:Qt,vuetify:Yt,render:function(e){return e(N)}}).$mount("#app")},"61cf":function(e,t,a){"use strict";a("ae6c")},"6d9f":function(e,t,a){},"707d":function(e,t,a){},a01b:function(e,t,a){},ae6c:function(e,t,a){},b9bd:function(e,t,a){},c647:function(e,t,a){"use strict";a("b9bd")},ca61:function(e,t,a){"use strict";a("17f8")},da13:function(e,t,a){"use strict";a("4dca")},fabf:function(e,t,a){"use strict";a("6d9f")}});
//# sourceMappingURL=app.87ab5db5.js.map